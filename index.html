<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AUTOLAB - 미래를 향한 기술 혁신</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Noto Sans KR -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">

    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <!-- Favicon: 이 경로에 실제 파비콘 이미지 파일(예: favicon.png)을 넣어주세요 -->
    <link rel="icon" href="./favicon2.png" type="image/png">

    <style>
        /* Custom Styles */
        body {
            font-family: 'Noto Sans KR', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            word-break: keep-all; /* 모바일에서 단어 잘림 방지 */
        }
        html {
            scroll-behavior: smooth;
        }
        /* Scroll Animation */
        .scroll-reveal {
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 1s ease-out, transform 1s ease-out;
        }
        .scroll-reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }
        /* Dropdown hover for desktop */
        @media (min-width: 1024px) {
            .dropdown:hover .dropdown-menu {
                display: block;
                animation: fadeInDown 0.3s ease-out;
            }
        }
        /* Dropdown Animation */
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Hero Section Text Animation */
        .hero-text {
            animation: text-focus-in 1s cubic-bezier(0.550, 0.085, 0.680, 0.530) both;
        }
        @keyframes text-focus-in {
            0% { filter: blur(12px); opacity: 0; }
            100% { filter: blur(0px); opacity: 1; }
        }
        /* Parallax-like effect for Mission Section */
        .mission-bg {
            background-attachment: fixed;
        }
        .rotate-180 {
            transform: rotate(180deg);
        }
        /* Background Video */
        #hero-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -100;
        }
        /* Page transition styles */
        .page-content {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        /* Gallery Admin Overlay */
        .admin-edit-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            opacity: 0;
            transition: opacity 0.3s ease;
            cursor: default;
        }
        .group:hover .admin-edit-overlay {
            opacity: 1;
        }
        /* Accordion Content Styling */
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out;
        }
        /* Admin Edit Button for static content */
         body.admin-mode [data-key] {
            position: relative;
            outline: 2px dashed rgba(239, 68, 68, 0.6);
            outline-offset: 4px;
            border-radius: 4px;
            transition: outline 0.2s ease-in-out;
            min-height: 1em; /* Ensure empty elements are still editable */
        }
        body.admin-mode [data-key]:hover {
            outline-color: rgba(239, 68, 68, 1);
            background-color: rgba(254, 226, 226, 0.3);
        }
        .edit-btn-icon {
            display: none; /* Initially hidden */
            position: absolute;
            top: -12px;
            right: -12px;
            background-color: #ef4444; /* red-500 */
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            cursor: pointer;
            border: none;
            z-index: 10;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            /* Centering the icon */
            display: flex;
            align-items: center;
            justify-content: center;
        }
        body.admin-mode [data-key]:hover .edit-btn-icon {
            display: flex; /* Show on hover in admin mode */
        }
        .admin-panel {
            display: none;
        }
        body.admin-mode .admin-panel {
            display: flex; /* Or block, depending on the panel */
        }
    </style>
</head>
<body class="bg-white text-gray-800">

    <!-- Header -->
    <header id="header" class="bg-white/80 backdrop-blur-md fixed top-0 left-0 right-0 z-50 border-b border-gray-200/80 transition-all duration-300">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <!-- Logo -->
                <a href="#" data-target="home" class="nav-link flex items-center space-x-2 shrink-0">
                    <img src="./logo2.png" alt="AUTOLAB Logo" class="h-10 md:h-12" onerror="this.onerror=null; this.src='https://placehold.co/200x40/1e3a8a/ffffff?text=AUTOLAB';">
                </a>

                <!-- Desktop Navigation -->
                <div class="flex items-center">
                    <nav id="desktop-nav" class="hidden lg:flex items-center space-x-2">
                        <div class="dropdown relative">
                            <a href="#" data-target="about-intro" class="nav-link px-4 py-2 text-lg font-medium text-gray-600 hover:text-blue-800 rounded-md">회사소개</a>
                            <div class="dropdown-menu absolute hidden bg-white shadow-lg rounded-md mt-2 py-2 w-40 border border-gray-100">
                                <a href="#" data-target="about-intro" class="nav-link block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-800">AUTOLAB 소개</a>
                                <a href="#" data-target="history" class="nav-link block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-800">사업연혁</a>
                                <a href="#" data-target="about-location" class="nav-link block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-800">오시는길</a>
                            </div>
                        </div>
                        <div class="dropdown relative">
                            <a href="#" data-target="business-sensor" class="nav-link px-4 py-2 text-lg font-medium text-gray-600 hover:text-blue-800 rounded-md">사업분야</a>
                            <div class="dropdown-menu absolute hidden bg-white shadow-lg rounded-md mt-2 py-2 w-48 border border-gray-100">
                                <a href="#" data-target="business-sensor" class="nav-link block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-800">센서 개발 R&D</a>
                                <a href="#" data-target="business-ict" class="nav-link block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-800">ICT 교육</a>
                            </div>
                        </div>
                        <a href="#" data-target="quote" class="nav-link px-4 py-2 text-lg font-medium text-gray-600 hover:text-blue-800">견적문의</a>
                        <a href="#" data-target="products" class="nav-link px-4 py-2 text-lg font-medium text-gray-600 hover:text-blue-800">제품소개</a>
                        <div class="dropdown relative">
                            <a href="#" data-target="about-us" class="nav-link px-4 py-2 text-lg font-medium text-gray-600 hover:text-blue-800 rounded-md">커뮤니티</a>
                            <div class="dropdown-menu absolute hidden bg-white shadow-lg rounded-md mt-2 py-2 w-40 border border-gray-100">
                                <a href="#" data-target="about-us" class="nav-link block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-800">About us</a>
                                <a href="#" data-target="community-gallery" class="nav-link block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-800">포토갤러리</a>
                            </div>
                        </div>
                    </nav>
                    <!-- Search Button -->
                    <button class="search-btn hidden lg:block ml-4 p-3 text-gray-500 hover:text-blue-800"><i class="fas fa-search"></i></button>
                </div>

                <!-- Mobile Menu Button -->
                <div class="lg:hidden">
                    <button id="mobile-menu-button" class="text-gray-700 hover:text-blue-700 focus:outline-none p-2">
                        <i class="fas fa-bars fa-lg"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Navigation -->
        <div id="mobile-menu" class="hidden lg:hidden bg-white border-t border-gray-200">
            <!-- Mobile menu links will be populated by JS -->
        </div>
    </header>

    <!-- Main Content Area -->
    <main id="app-content">
        <!-- Pages will be injected here -->
    </main>
    
    <!-- Page Templates -->
    <div id="page-templates" class="hidden">
        <!-- Login Page Content -->
        <div id="login">
            <section class="py-24 md:py-32 bg-gray-50 flex items-center justify-center min-h-screen">
                <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-sm">
                    <h1 class="text-2xl font-bold text-center text-gray-800 mb-6">관리자 로그인</h1>
                    <form id="login-form" class="space-y-4">
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700">이메일</label>
                            <input type="email" id="email" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-800 focus:border-blue-800 sm:text-sm">
                        </div>
                        <div>
                            <label for="password" class="block text-sm font-medium text-gray-700">비밀번호</label>
                            <input type="password" id="password" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-800 focus:border-blue-800 sm:text-sm">
                        </div>
                        <div>
                            <button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-800 hover:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-800">
                                로그인
                            </button>
                        </div>
                    </form>
                </div>
            </section>
        </div>

        <!-- Home Page Content -->
        <div id="home">
            <section class="h-screen relative flex items-center justify-center overflow-hidden">
                <video id="hero-video" autoplay loop muted playsinline>
                    <source src="./background.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                <div class="absolute top-0 left-0 w-full h-full bg-black/50"></div>
                <div class="relative z-10 text-center text-white px-4 hero-text">
                    <h1 data-key="home.hero.title" class="text-4xl sm:text-5xl md:text-6xl font-extrabold leading-tight">미래를 향한 끝없는 탐구,<br>기술의 한계를 넘어서다.</h1>
                    <p data-key="home.hero.subtitle" class="mt-6 text-lg md:text-xl opacity-80">AUTOLAB은 혁신적인 기술로 내일의 가능성을 현실로 만듭니다.</p>
                </div>
            </section>
            <section class="relative py-24 lg:py-48 bg-cover bg-center mission-bg" style="background-image: linear-gradient(rgba(248, 250, 252, 0.9), rgba(248, 250, 252, 0.9)), url('./background.jpg');">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center scroll-reveal">
                    <h2 data-key="home.mission.title" class="text-3xl md:text-4xl lg:text-5xl font-extrabold text-gray-800 leading-snug">
                        우리는 <span class="text-blue-800">창의적인 아이디어</span>로<br>
                        세상을 움직이는 <span class="text-blue-800">새로운 방법</span>을 제시합니다.
                    </h2>
                    <p data-key="home.mission.description" class="mt-8 max-w-3xl mx-auto text-base md:text-lg text-gray-600">
                        자동차(Auto)와 실험실(Lab)의 결합. AUTOLAB은 끝없는 연구와 실험 정신을 바탕으로, ICT 기술의 경계를 허무는 자동화 기술과 교육 솔루션을 제공합니다.
                    </p>
                    <div class="mt-12">
                        <a href="#" data-target="about-intro" class="nav-link inline-block bg-blue-800 text-white font-bold py-3 px-8 rounded-lg text-lg hover:bg-blue-900 transition-all duration-300 shadow-lg hover:shadow-xl">
                            회사소개 더 알아보기
                        </a>
                    </div>
                </div>
            </section>
            <section class="py-20 lg:py-32 bg-gray-50">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-16 md:mb-20 scroll-reveal">
                        <h2 data-key="home.business.title" class="text-3xl md:text-4xl font-extrabold text-gray-900">핵심 사업분야</h2>
                        <p data-key="home.business.subtitle" class="mt-4 text-base md:text-lg text-gray-600">AUTOLAB은 두 가지 핵심 기술을 통해 미래를 선도합니다.</p>
                    </div>
                    <div class="grid lg:grid-cols-2 gap-12 lg:gap-16 items-center mb-16 md:mb-24">
                        <div class="relative scroll-reveal">
                            <img data-key="home.business.sensorImage" src="./sensor.jpg" alt="Sensor R&D" class="rounded-lg shadow-2xl w-full">
                        </div>
                        <div class="scroll-reveal">
                            <span class="text-blue-800 font-semibold">01. SENSOR R&D</span>
                            <h3 data-key="home.business.sensorTitle" class="text-2xl md:text-3xl lg:text-4xl font-bold text-gray-800 mt-2 mb-6">세상의 한계를<br>넘어서는 감각</h3>
                            <p data-key="home.business.sensorDescription" class="text-base md:text-lg text-gray-600 mb-8">
                                초정밀 센서부터 AI 기반 인식 시스템까지, 산업의 미래를 여는 핵심 기술을 연구하고 개발합니다. AUTOLAB의 센서 기술은 보이지 않는 것을 보고, 불가능을 가능하게 만듭니다.
                            </p>
                            <ul class="space-y-4 text-gray-700 text-base md:text-lg">
                                <li class="flex items-start"><i class="fas fa-check-circle text-blue-800 mt-1 mr-3"></i><span data-key="home.business.sensorFeature1"><strong>초정밀 측정 기술:</strong> 미세한 변화도 놓치지 않는 정밀함</span></li>
                                <li class="flex items-start"><i class="fas fa-check-circle text-blue-800 mt-1 mr-3"></i><span data-key="home.business.sensorFeature2"><strong>AI 융합 솔루션:</strong> 데이터를 분석하고 예측하는 스마트 센서</span></li>
                            </ul>
                            <div class="mt-10">
                                <a href="#" data-target="business-sensor" class="nav-link font-bold text-blue-800 hover:text-blue-900 group text-lg">
                                    <span>자세히 보기</span><span class="inline-block transition-transform group-hover:translate-x-1 motion-reduce:transform-none">&rarr;</span>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="grid lg:grid-cols-2 gap-12 lg:gap-16 items-center">
                        <div class="scroll-reveal lg:order-2">
                            <img data-key="home.business.ictImage" src="./edu.jpg" alt="ICT Education" class="rounded-lg shadow-2xl w-full">
                        </div>
                        <div class="scroll-reveal lg:order-1">
                            <span class="text-blue-800 font-semibold">02. ICT EDUCATION</span>
                            <h3 data-key="home.business.ictTitle" class="text-2xl md:text-3xl lg:text-4xl font-bold text-gray-800 mt-2 mb-6">미래를 만드는<br>사람을 키웁니다</h3>
                            <p data-key="home.business.ictDescription" class="text-base md:text-lg text-gray-600 mb-8">
                                이론을 넘어 실제적인 문제 해결 능력을 키우는 실습 중심의 교육 프로그램을 통해 미래 인재를 양성합니다. AUTOLAB의 교육은 단순한 지식 전달이 아닌, 경험을 통한 성장을 목표로 합니다.
                            </p>
                            <ul class="space-y-4 text-gray-700 text-base md:text-lg">
                                <li class="flex items-start"><i class="fas fa-check-circle text-blue-800 mt-1 mr-3"></i><span data-key="home.business.ictFeature1"><strong>실무 중심 커리큘럼:</strong> 현장에서 바로 적용 가능한 기술 교육</span></li>
                                <li class="flex items-start"><i class="fas fa-check-circle text-blue-800 mt-1 mr-3"></i><span data-key="home.business.ictFeature2"><strong>최신 장비 활용:</strong> 최고의 환경에서 최고의 기술을 경험</span></li>
                            </ul>
                            <div class="mt-10">
                                <a href="#" data-target="business-ict" class="nav-link font-bold text-blue-800 hover:text-blue-900 group text-lg">
                                    <span>자세히 보기</span><span class="inline-block transition-transform group-hover:translate-x-1 motion-reduce:transform-none">&rarr;</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <section class="py-20 lg:py-32 bg-white">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-16 scroll-reveal">
                        <h2 data-key="home.products.title" class="text-3xl md:text-4xl font-extrabold text-gray-900">Products</h2>
                        <p data-key="home.products.subtitle" class="mt-4 text-base md:text-lg text-gray-600">AUTOLAB의 기술력으로 탄생한 혁신적인 제품들을 만나보세요.</p>
                    </div>
                    <div class="grid sm:grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                        <div class="bg-gray-50 rounded-lg overflow-hidden group scroll-reveal border border-gray-200 hover:shadow-xl hover:border-blue-300 transition-all duration-300">
                            <img data-key="home.products.rdImage" src="https://placehold.co/600x400/e2e8f0/334155?text=R%26D+Result" alt="R&D Result" class="w-full h-56 object-cover">
                            <div class="p-6">
                                <h3 data-key="home.products.rdTitle" class="text-xl font-bold text-gray-800 mb-2">R&D 연구개발 결과물</h3>
                                <p data-key="home.products.rdDescription" class="text-gray-700">타액 기반 혈당 센서 등 최신 연구 결과물을 확인해보세요.</p>
                            </div>
                        </div>
                        <div class="bg-gray-50 rounded-lg overflow-hidden group scroll-reveal border border-gray-200 hover:shadow-xl hover:border-blue-300 transition-all duration-300" style="transition-delay: 150ms;">
                            <img data-key="home.products.kitImage" src="https://placehold.co/600x400/e2e8f0/334155?text=Education+Kit" alt="Education Kit" class="w-full h-56 object-cover">
                            <div class="p-6">
                                <h3 data-key="home.products.kitTitle" class="text-xl font-bold text-gray-800 mb-2">시판 제품</h3>
                                <p data-key="home.products.kitDescription" class="text-gray-700">미로탈출 RC카, 아두이노 키트 등 교육용 제품을 구매할 수 있습니다.</p>
                            </div>
                        </div>
                    </div>
                    <div class="text-center mt-16">
                        <a href="#" data-target="products" class="nav-link font-bold text-lg text-blue-800 hover:text-blue-900 group">
                            <span>모든 제품 보기</span><span class="inline-block transition-transform group-hover:translate-x-1 motion-reduce:transform-none">&rarr;</span>
                        </a>
                    </div>
                </div>
            </section>
        </div>

        <!-- About Intro Page Content -->
        <div id="about-intro">
            <section class="bg-gray-900 bg-cover bg-center" style="background-image: linear-gradient(rgba(29, 36, 48, 0.8), rgba(29, 36, 48, 0.8)), url('https://placehold.co/1920x600/1e2e8f/ffffff?text=AUTOLAB+Office');">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-24 md:py-40 text-center text-white">
                    <h1 data-key="about.hero.title" class="text-4xl md:text-5xl font-extrabold">AUTOLAB 소개</h1>
                    <p data-key="about.hero.subtitle" class="mt-4 text-lg md:text-xl text-gray-300">기술 혁신을 통해 더 나은 미래를 만들어갑니다.</p>
                </div>
            </section>
            <div class="border-b border-gray-200 sticky top-20 bg-white z-40">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <nav class="flex -mb-px">
                        <a href="#" data-target="about-intro" class="nav-link border-b-2 border-blue-800 text-blue-800 py-4 px-4 text-center font-semibold">AUTOLAB 소개</a>
                        <a href="#" data-target="history" class="nav-link border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 py-4 px-4 text-center font-medium">사업연혁</a>
                        <a href="#" data-target="about-location" class="nav-link border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 py-4 px-4 text-center font-medium">오시는길</a>
                    </nav>
                </div>
            </div>
            <section id="intro" class="py-20 lg:py-32">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-20 scroll-reveal">
                        <h2 data-key="about.intro.title" class="text-3xl md:text-4xl font-extrabold text-gray-800">
                            세상에 없던 새로운 <span class="text-blue-800">가치</span>를 창조합니다.
                        </h2>
                        <p data-key="about.intro.description" class="mt-4 max-w-3xl mx-auto text-base md:text-lg text-gray-600">
                            AUTOLAB은 자동차(Auto)의 정밀한 기술력과 실험실(Lab)의 끝없는 탐구 정신이 만난 곳입니다. 우리는 기존의 틀에 갇히지 않는 창의적인 생각과 ICT 기술력을 바탕으로, 미래 산업의 패러다임을 바꾸는 것을 목표로 합니다.
                        </p>
                    </div>
                    <div class="grid lg:grid-cols-2 gap-12 lg:gap-16 items-center">
                        <div class="scroll-reveal">
                            <img data-key="about.vision.image" src="https://placehold.co/800x600/e0f2fe/1e3a8a?text=Vision+of+Future" alt="AUTOLAB Vision" class="rounded-lg shadow-xl w-full">
                        </div>
                        <div class="scroll-reveal">
                            <h3 data-key="about.vision.title" class="text-2xl lg:text-3xl font-bold text-gray-800 mb-6">우리의 비전</h3>
                            <p data-key="about.vision.description" class="text-base md:text-lg text-gray-600 mb-4">
                                단순히 기술을 개발하는 것을 넘어, 사람과 기술이 조화롭게 공존하는 세상을 만듭니다. AUTOLAB의 혁신적인 기술은 산업 현장의 효율성을 극대화하고, 우리의 삶을 더욱 안전하고 풍요롭게 만들 것입니다.
                            </p>
                        </div>
                    </div>
                </div>
            </section>
            <!-- CI Section -->
            <section class="py-20 lg:py-32 bg-gray-50">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-20 scroll-reveal">
                        <h2 data-key="about.ci.title" class="text-3xl md:text-4xl font-extrabold text-gray-800">CI 소개</h2>
                        <p data-key="about.ci.subtitle" class="mt-4 max-w-3xl mx-auto text-base md:text-lg text-gray-600">AUTOLAB의 정체성과 비전을 담은 상징입니다.</p>
                    </div>
                    <div class="grid lg:grid-cols-2 gap-12 lg:gap-16 items-center">
                        <div class="scroll-reveal flex justify-center items-center">
                            <img data-key="about.ci.logo" src="./logo_autolab.png" alt="AUTOLAB Logo" class="max-w-xs md:max-w-sm w-full" onerror="this.onerror=null; this.src='https://placehold.co/400x150/1e3a8a/ffffff?text=AUTOLAB';">
                        </div>
                        <div class="scroll-reveal space-y-8 text-base md:text-lg">
                            <div>
                                <h4 data-key="about.ci.designTitle" class="text-xl font-bold text-gray-800 mb-2">로고 디자인</h4>
                                <p data-key="about.ci.designDescription" class="text-gray-600">AUTOLAB의 로고는 지능적이고 역동적인 돌고래와 정밀한 기술력을 상징하는 톱니바퀴를 결합하여 탄생했습니다. 이는 유연한 사고와 첨단 기술의 조화를 통해 미래를 향해 나아가는 우리의 의지를 표현합니다.</p>
                            </div>
                            <div>
                                <h4 data-key="about.ci.colorTitle" class="text-xl font-bold text-gray-800 mb-2">시그니처 컬러</h4>
                                <p data-key="about.ci.colorDescription" class="text-gray-600">주요 색상인 <span class="font-bold text-blue-800">네이비 블루</span>는 신뢰, 기술, 그리고 무한한 가능성을 상징합니다. 고객에게는 안정적인 기술력에 대한 믿음을, 내부적으로는 미래를 향한 밝은 비전을 의미합니다.</p>
                            </div>
                            <div>
                                <h4 data-key="about.ci.symbolTitle" class="text-xl font-bold text-gray-800 mb-2">돌고래 심볼</h4>
                                <p data-key="about.ci.symbolDescription" class="text-gray-600">돌고래는 높은 지능, 빠른 속도, 그리고 친근함의 상징입니다. 이는 복잡한 문제를 해결하는 스마트한 기술력, 빠르게 변화하는 시장에 대한 민첩한 대응, 그리고 인간 중심의 기술을 추구하는 AUTOLAB의 핵심 가치를 나타냅니다.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <section id="organization" class="py-20 lg:py-32">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-16 scroll-reveal">
                        <h2 data-key="about.org.title" class="text-3xl md:text-4xl font-extrabold text-gray-800">조직도</h2>
                        <p data-key="about.org.subtitle" class="mt-4 max-w-3xl mx-auto text-base md:text-lg text-gray-600">
                            AUTOLAB은 최고의 전문가들과 함께 성장합니다.
                        </p>
                    </div>
                    <div class="max-w-5xl mx-auto scroll-reveal">
                        <img data-key="about.org.image" src="https://placehold.co/1200x800/e2e8f0/334155?text=Organization+Chart" alt="AUTOLAB Organization Chart" class="rounded-lg shadow-lg w-full border border-gray-200">
                    </div>
                </div>
            </section>
            <section id="core-values" class="py-20 lg:py-32 bg-gray-50">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                     <div class="grid lg:grid-cols-2 gap-12 lg:gap-16 items-center">
                          <div class="scroll-reveal lg:order-2">
                               <img data-key="about.values.image" src="https://placehold.co/800x600/1e293b/ffffff?text=Core+Values" alt="Core Values" class="rounded-lg shadow-xl w-full">
                          </div>
                          <div class="scroll-reveal lg:order-1 text-base md:text-lg">
                               <h3 data-key="about.values.title" class="text-2xl lg:text-3xl font-bold text-gray-800 mb-8">핵심 가치</h3>
                               <ul class="space-y-8">
                                   <li>
                                       <h4 data-key="about.values.value1Title" class="text-xl font-semibold text-blue-800 mb-2">Innovation (혁신)</h4>
                                       <p data-key="about.values.value1Description" class="text-gray-600">우리는 끊임없이 질문하고, 기존의 방식을 의심하며, 대담한 도전을 통해 세상을 놀라게 할 혁신을 만들어갑니다.</p>
                                   </li>
                                    <li>
                                       <h4 data-key="about.values.value2Title" class="text-xl font-semibold text-blue-800 mb-2">Education (교육)</h4>
                                       <p data-key="about.values.value2Description" class="text-gray-600">미래를 이끌어갈 인재를 양성하는 것이 곧 기술의 미래를 만드는 것이라 믿습니다. 실습 중심의 교육으로 살아있는 지식을 전파합니다.</p>
                                   </li>
                                    <li>
                                       <h4 data-key="about.values.value3Title" class="text-xl font-semibold text-blue-800 mb-2">Growth (성장)</h4>
                                       <p data-key="about.values.value3Description" class="text-gray-600">개인의 성장이 곧 회사의 성장입니다. 구성원 모두가 각 분야의 전문가로 성장할 수 있도록 지원하며, 사회와 함께 발전합니다.</p>
                                   </li>
                               </ul>
                          </div>
                     </div>
                </div>
            </section>
        </div>
        
        <!-- History Page Content -->
        <div id="history">
            <div id="history-admin-panel" class="admin-panel sticky top-20 z-40 bg-blue-800 text-white shadow-lg">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center">
                    <span class="font-bold"><i class="fas fa-user-shield mr-2"></i>관리자 모드</span>
                    <div>
                        <button id="add-history-btn" class="bg-white text-blue-800 font-semibold py-2 px-4 rounded-md hover:bg-gray-100 transition-colors mr-2"><i class="fas fa-plus mr-2"></i>새 연혁 추가</button>
                    </div>
                </div>
            </div>
            <section class="bg-gray-900 bg-cover bg-center" style="background-image: linear-gradient(rgba(29, 36, 48, 0.8), rgba(29, 36, 48, 0.8)), url('https://placehold.co/1920x600/1e293b/ffffff?text=AUTOLAB+History');">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-24 md:py-40 text-center text-white">
                    <h1 class="text-4xl md:text-5xl font-extrabold">사업연혁</h1>
                    <p class="mt-4 text-lg md:text-xl text-gray-300">AUTOLAB이 걸어온 혁신의 발자취입니다.</p>
                </div>
            </section>
            <div class="border-b border-gray-200 sticky top-20 bg-white z-40">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <nav class="flex -mb-px">
                        <a href="#" data-target="about-intro" class="nav-link border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 py-4 px-4 text-center font-medium">AUTOLAB 소개</a>
                        <a href="#" data-target="history" class="nav-link border-b-2 border-blue-800 text-blue-800 py-4 px-4 text-center font-semibold">사업연혁</a>
                        <a href="#" data-target="about-location" class="nav-link border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 py-4 px-4 text-center font-medium">오시는길</a>
                    </nav>
                </div>
            </div>
            <section class="py-20 lg:py-32">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="max-w-3xl mx-auto">
                        <div class="text-center mb-20">
                            <h2 class="text-3xl md:text-4xl font-extrabold text-gray-800">도전과 성장의 역사</h2>
                            <p class="mt-4 text-base md:text-lg text-gray-600">AUTOLAB은 더 나은 미래를 향한 끊임없는 도전으로 성장해왔습니다.</p>
                        </div>
                        <div id="timeline-container" class="relative">
                            <div class="border-l-2 border-blue-200 absolute h-full top-0 left-4"></div>
                            <p id="loading" class="text-center text-gray-500 py-10">연혁을 불러오는 중...</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- About Location Page Content -->
        <div id="about-location">
            <section class="bg-gray-900 bg-cover bg-center" style="background-image: linear-gradient(rgba(29, 36, 48, 0.8), rgba(29, 36, 48, 0.8)), url('https://placehold.co/1920x600/1e293b/ffffff?text=AUTOLAB+Location');">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-24 md:py-40 text-center text-white">
                    <h1 class="text-4xl md:text-5xl font-extrabold">오시는길</h1>
                    <p class="mt-4 text-lg md:text-xl text-gray-300">AUTOLAB에 오시는 길을 안내해 드립니다.</p>
                </div>
            </section>
            <div class="border-b border-gray-200 sticky top-20 bg-white z-40">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <nav class="flex -mb-px">
                        <a href="#" data-target="about-intro" class="nav-link border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 py-4 px-4 text-center font-medium">AUTOLAB 소개</a>
                        <a href="#" data-target="history" class="nav-link border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 py-4 px-4 text-center font-medium">사업연혁</a>
                        <a href="#" data-target="about-location" class="nav-link border-b-2 border-blue-800 text-blue-800 py-4 px-4 text-center font-semibold">오시는길</a>
                    </nav>
                </div>
            </div>
            <section id="location" class="py-20 lg:py-32">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="rounded-lg shadow-xl overflow-hidden border border-gray-200 scroll-reveal">
                        <!-- Google Maps Embed Iframe -->
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3261.082596222271!2d128.55294857546716!3d35.17949385737325!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x356f2e8e568bc295%3A0xee5a59af825fe695!2z7LC97JuQ7IucIOyblOyYgeuPmSDqsr3rgqjrjIDtlZnqtZAg7KCcMeqzte2Vmeq0gA!5e0!3m2!1sko!2skr!4v1754433789566!5m2!1sko!2skr" width="100%" height="500" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                    <div class="mt-12 max-w-2xl mx-auto scroll-reveal">
                        <div class="bg-gray-50 p-8 rounded-lg">
                            <h3 class="text-2xl font-bold text-gray-800 mb-4 text-center">주소 및 연락처</h3>
                            <div class="space-y-3 text-lg">
                                <p><i class="fas fa-map-marker-alt text-blue-800 mr-3 w-5 text-center"></i><span data-key="location.address">경상남도 창원시 마산합포구 경남대학로 7 (경남대학교)</span></p>
                                <p><i class="fas fa-phone-alt text-blue-800 mr-3 w-5 text-center"></i><span data-key="location.phone">010-0000-0000</span></p>
                                <p><i class="fas fa-envelope text-blue-800 mr-3 w-5 text-center"></i><span data-key="location.email">contact@autolab.co.kr</span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        
        <!-- Business ICT Page Content -->
        <div id="business-ict">
            <section class="bg-gray-900 bg-cover bg-center" style="background-image: linear-gradient(rgba(29, 36, 48, 0.8), rgba(29, 36, 48, 0.8)), url('https://placehold.co/1920x600/1e293b/ffffff?text=ICT+Education');">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-24 md:py-40 text-center text-white">
                    <h1 data-key="ict.hero.title" class="text-4xl md:text-5xl font-extrabold">ICT 교육</h1>
                    <p data-key="ict.hero.subtitle" class="mt-4 text-lg md:text-xl text-gray-300">미래를 만드는 사람을 키웁니다.</p>
                </div>
            </section>
            <div class="border-b border-gray-200 sticky top-20 bg-white z-40">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <nav class="flex -mb-px">
                        <a href="#" data-target="business-sensor" class="nav-link border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 py-4 px-4 text-center font-medium">센서 개발 R&D</a>
                        <a href="#" data-target="business-ict" class="nav-link border-b-2 border-blue-800 text-blue-800 py-4 px-1 text-center font-semibold">ICT 교육</a>
                    </nav>
                </div>
            </div>
            <section id="philosophy" class="py-20 lg:py-32">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8 grid md:grid-cols-2 gap-12 items-center">
                    <div class="scroll-reveal">
                        <h2 data-key="ict.philosophy.title" class="text-3xl md:text-4xl font-extrabold text-gray-800 mb-6">살아있는 지식,<br>성장하는 경험</h2>
                        <p data-key="ict.philosophy.description" class="text-base md:text-lg text-gray-600 mb-8">AUTOLAB의 ICT 교육은 단순한 이론 학습을 넘어, 실제 산업 현장에서 마주할 문제들을 해결하는 능력을 키우는 데 집중합니다. 우리는 수강생들이 직접 부딪히고, 실패하고, 다시 도전하는 과정을 통해 진정한 전문가로 성장할 수 있다고 믿습니다.</p>
                    </div>
                    <div class="scroll-reveal">
                        <img data-key="ict.philosophy.image" src="https://placehold.co/800x600/e0f2fe/1e3a8a?text=Hands-On+Experience" alt="Education" class="rounded-lg shadow-xl">
                    </div>
                </div>
            </section>
            <section id="features" class="py-20 lg:py-32 bg-gray-50">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-16 scroll-reveal">
                        <h2 data-key="ict.features.title" class="text-3xl md:text-4xl font-extrabold text-gray-800">AUTOLAB 교육의 특별함</h2>
                        <p data-key="ict.features.subtitle" class="mt-4 text-base md:text-lg text-gray-600">최고의 환경에서 최고의 전문가로 성장할 수 있는 기회를 제공합니다.</p>
                    </div>
                    <div class="grid md:grid-cols-3 gap-8 text-center">
                        <div class="p-8 bg-white rounded-lg shadow-md scroll-reveal">
                            <div class="w-16 h-16 mx-auto bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-3xl mb-6"><i class="fas fa-laptop-code"></i></div>
                            <h3 data-key="ict.features.feature1Title" class="text-xl font-bold text-gray-800 mb-2">실무 중심 커리큘럼</h3>
                            <p data-key="ict.features.feature1Description" class="text-gray-700">현업 전문가가 설계한 커리큘럼으로, 현장에서 바로 적용 가능한 실용적인 기술을 배웁니다.</p>
                        </div>
                        <div class="p-8 bg-white rounded-lg shadow-md scroll-reveal" style="transition-delay: 150ms;">
                            <div class="w-16 h-16 mx-auto bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-3xl mb-6"><i class="fas fa-user-tie"></i></div>
                            <h3 data-key="ict.features.feature2Title" class="text-xl font-bold text-gray-800 mb-2">최고의 강사진</h3>
                            <p data-key="ict.features.feature2Description" class="text-gray-700">풍부한 실무 경험을 갖춘 강사진의 1:1 멘토링을 통해 깊이 있는 학습이 가능합니다.</p>
                        </div>
                        <div class="p-8 bg-white rounded-lg shadow-md scroll-reveal" style="transition-delay: 300ms;">
                            <div class="w-16 h-16 mx-auto bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-3xl mb-6"><i class="fas fa-cogs"></i></div>
                            <h3 data-key="ict.features.feature3Title" class="text-xl font-bold text-gray-800 mb-2">최첨단 실습 환경</h3>
                            <p data-key="ict.features.feature3Description" class="text-gray-700">R&D 센터와 동일한 수준의 최신 장비와 설비를 통해 마음껏 아이디어를 구현할 수 있습니다.</p>
                        </div>
                    </div>
                </div>
            </section>
            <section id="curriculum" class="py-20 lg:py-32">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-16 scroll-reveal">
                        <h2 data-key="ict.curriculum.title" class="text-3xl md:text-4xl font-extrabold text-gray-800">교육 과정 안내</h2>
                        <p data-key="ict.curriculum.subtitle" class="mt-4 text-base md:text-lg text-gray-600">개인의 목표와 수준에 맞는 다양한 교육 과정을 제공합니다.</p>
                    </div>
                    <div class="max-w-4xl mx-auto space-y-6 scroll-reveal">
                        <div class="bg-gray-50 p-6 rounded-lg border border-gray-200">
                            <h3 data-key="ict.curriculum.course1Title" class="text-xl font-bold text-blue-800">기초 과정: 센서 데이터 분석 입문</h3>
                            <p data-key="ict.curriculum.course1Description" class="mt-2 text-gray-700">센서의 기본 원리를 이해하고, Python을 활용하여 데이터를 수집하고 분석하는 기초를 다집니다.</p>
                        </div>
                        <div class="bg-gray-50 p-6 rounded-lg border border-gray-200">
                            <h3 data-key="ict.curriculum.course2Title" class="text-xl font-bold text-blue-800">심화 과정: AI 기반 자동화 시스템 구축</h3>
                            <p data-key="ict.curriculum.course2Description" class="mt-2 text-gray-700">머신러닝/딥러닝 모델을 활용하여 실제 산업 현장의 문제를 해결하는 자동화 시스템을 직접 구축합니다.</p>
                        </div>
                        <div class="bg-gray-50 p-6 rounded-lg border border-gray-200">
                            <h3 data-key="ict.curriculum.course3Title" class="text-xl font-bold text-blue-800">맞춤형 기업 교육</h3>
                            <p data-key="ict.curriculum.course3Description" class="mt-2 text-gray-700">기업의 특성과 요구에 맞춘 전용 커리큘럼을 설계하여 임직원의 R&D 역량을 강화합니다.</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        
        <!-- Business Sensor Page Content -->
        <div id="business-sensor">
            <section class="bg-gray-900 bg-cover bg-center" style="background-image: linear-gradient(rgba(29, 36, 48, 0.8), rgba(29, 36, 48, 0.8)), url('https://placehold.co/1920x600/1e293b/ffffff?text=Sensor+R%26D');">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-24 md:py-40 text-center text-white">
                    <h1 data-key="sensor.hero.title" class="text-4xl md:text-5xl font-extrabold">센서 개발 R&D</h1>
                    <p data-key="sensor.hero.subtitle" class="mt-4 text-lg md:text-xl text-gray-300">세상의 한계를 넘어서는 감각, AUTOLAB의 센서 기술</p>
                </div>
            </section>
            <div class="border-b border-gray-200 sticky top-20 bg-white z-40">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <nav class="flex -mb-px">
                        <a href="#" data-target="business-sensor" class="nav-link border-b-2 border-blue-800 text-blue-800 py-4 px-1 text-center font-semibold">센서 개발 R&D</a>
                        <a href="#" data-target="business-ict" class="nav-link border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 py-4 px-4 text-center font-medium">ICT 교육</a>
                    </nav>
                </div>
            </div>
            <section id="equipment" class="py-20 lg:py-32">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="grid md:grid-cols-2 gap-12 items-center">
                        <div class="scroll-reveal">
                            <h2 data-key="sensor.equipment.title" class="text-3xl md:text-4xl font-extrabold text-gray-800">AUTOLAB 보유 장비</h2>
                            <p data-key="sensor.equipment.subtitle" class="mt-4 text-base md:text-lg text-gray-600">최첨단 연구 설비는 기술 혁신의 기반입니다.</p>
                        </div>
                        <div class="scroll-reveal bg-gray-50 p-8 rounded-lg">
                            <ul class="space-y-6 text-base md:text-lg">
                                <li>
                                    <h3 data-key="sensor.equipment.cat1Title" class="text-xl font-bold text-gray-800">- 제조 장비:</h3>
                                    <ul class="list-disc list-inside pl-4 mt-2 text-gray-600 space-y-1">
                                        <li data-key="sensor.equipment.cat1Item1">3D 프린터</li>
                                        <li data-key="sensor.equipment.cat1Item2">CNC 정밀 가공기</li>
                                    </ul>
                                </li>
                                <li>
                                    <h3 data-key="sensor.equipment.cat2Title" class="text-xl font-bold text-gray-800">- 측정 장비:</h3>
                                    <ul class="list-disc list-inside pl-4 mt-2 text-gray-600 space-y-1">
                                        <li data-key="sensor.equipment.cat2Item1">오실로스코프</li>
                                        <li data-key="sensor.equipment.cat2Item2">열화상 카메라</li>
                                    </ul>
                                </li>
                                <li>
                                    <h3 data-key="sensor.equipment.cat3Title" class="text-xl font-bold text-gray-800">- 소형화 장비:</h3>
                                     <ul class="list-disc list-inside pl-4 mt-2 text-gray-600 space-y-1">
                                        <li data-key="sensor.equipment.cat3Item1">마이크로-FAB 시스템</li>
                                        <li data-key="sensor.equipment.cat3Item2">PCB 프로토타이핑 머신</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
            <section id="tech-intro" class="py-20 lg:py-32 bg-gray-50">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8 grid md:grid-cols-2 gap-12 items-center">
                    <div class="scroll-reveal">
                        <h2 data-key="sensor.tech.title" class="text-3xl md:text-4xl font-extrabold text-gray-800 mb-6">AUTOLAB 기술력 소개</h2>
                        <p data-key="sensor.tech.description" class="text-base md:text-lg text-gray-600 mb-8">AUTOLAB은 다년간 축적된 R&D 경험과 노하우를 바탕으로 고객의 요구에 최적화된 센서 솔루션을 제공합니다. 단순한 부품 개발을 넘어, 데이터 분석과 AI 기술을 융합하여 새로운 가치를 창출합니다.</p>
                        <ul class="space-y-4 text-base md:text-lg">
                            <li class="flex items-center"><i class="fas fa-check text-blue-800 mr-3"></i><span data-key="sensor.tech.feature1">맞춤형 센서 설계 및 제작</span></li>
                            <li class="flex items-center"><i class="fas fa-check text-blue-800 mr-3"></i><span data-key="sensor.tech.feature2">신호 처리 및 데이터 분석</span></li>
                            <li class="flex items-center"><i class="fas fa-check text-blue-800 mr-3"></i><span data-key="sensor.tech.feature3">AI 기반 불량 탐지 및 예측</span></li>
                        </ul>
                    </div>
                    <div class="scroll-reveal">
                        <img data-key="sensor.tech.image" src="https://placehold.co/800x600/1e293b/ffffff?text=Core+Technology" alt="Technology" class="rounded-lg shadow-xl">
                    </div>
                </div>
            </section>
            <section id="tech-transfer" class="py-20 lg:py-32">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-20 scroll-reveal">
                        <h2 data-key="sensor.process.title" class="text-3xl md:text-4xl font-extrabold text-gray-800">기술이전 프로세스</h2>
                        <p data-key="sensor.process.subtitle" class="mt-4 text-base md:text-lg text-gray-600">AUTOLAB의 축적된 센서 기술을 귀사의 것으로 만들어 드립니다.</p>
                    </div>
                    <div class="flex flex-col md:flex-row md:items-center md:justify-between space-y-8 md:space-y-0 md:space-x-4 scroll-reveal">
                        <div class="flex-1 text-center">
                            <div class="w-20 h-20 mx-auto bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-3xl shadow-sm"><i class="fas fa-handshake"></i></div>
                            <h4 class="mt-4 font-bold text-gray-800">Step 01</h4>
                            <p class="text-gray-600">사전미팅 및 운영전략</p>
                        </div>
                        <div class="hidden md:block text-gray-300 text-2xl"><i class="fas fa-chevron-right"></i></div>
                        <div class="flex-1 text-center">
                            <div class="w-20 h-20 mx-auto bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-3xl shadow-sm"><i class="fas fa-tasks"></i></div>
                            <h4 class="mt-4 font-bold text-gray-800">Step 02</h4>
                            <p class="text-gray-600">업무분석 및 기초컨설팅</p>
                        </div>
                        <div class="hidden md:block text-gray-300 text-2xl"><i class="fas fa-chevron-right"></i></div>
                        <div class="flex-1 text-center">
                            <div class="w-20 h-20 mx-auto bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-3xl shadow-sm"><i class="fas fa-award"></i></div>
                            <h4 class="mt-4 font-bold text-gray-800">Step 03</h4>
                            <p class="text-gray-600">업무 표준화 및 인원배정</p>
                        </div>
                        <div class="hidden md:block text-gray-300 text-2xl"><i class="fas fa-chevron-right"></i></div>
                        <div class="flex-1 text-center">
                            <div class="w-20 h-20 mx-auto bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-3xl shadow-sm"><i class="fas fa-chalkboard-teacher"></i></div>
                            <h4 class="mt-4 font-bold text-gray-800">Step 04</h4>
                            <p class="text-gray-600">사전교육 진행</p>
                        </div>
                        <div class="hidden md:block text-gray-300 text-2xl"><i class="fas fa-chevron-right"></i></div>
                        <div class="flex-1 text-center">
                            <div class="w-20 h-20 mx-auto bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-3xl shadow-sm"><i class="fas fa-file-alt"></i></div>
                            <h4 class="mt-4 font-bold text-gray-800">Step 05</h4>
                            <p class="text-gray-600">업무시작 및 리포트 제출</p>
                        </div>
                    </div>
                </div>
            </section>
            <section id="contract-process" class="py-20 lg:py-32 bg-gray-50">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-20 scroll-reveal">
                        <h2 data-key="sensor.contract.title" class="text-3xl md:text-4xl font-extrabold text-gray-800">센서 개발 R&D 의뢰 프로세스</h2>
                        <p data-key="sensor.contract.subtitle" class="mt-4 text-base md:text-lg text-gray-600">아이디어를 현실로 만드는 가장 확실한 방법입니다.</p>
                    </div>
                     <div class="flex flex-col md:flex-row md:items-center md:justify-between space-y-8 md:space-y-0 md:space-x-4 scroll-reveal">
                        <div class="flex-1 text-center">
                            <div class="w-20 h-20 mx-auto bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-3xl shadow-sm"><i class="fas fa-comments"></i></div>
                            <h4 class="mt-4 font-bold text-gray-800">Step 01</h4>
                            <p class="text-gray-600">견적 및 프로세스 파악</p>
                        </div>
                        <div class="hidden md:block text-gray-300 text-2xl"><i class="fas fa-chevron-right"></i></div>
                        <div class="flex-1 text-center">
                            <div class="w-20 h-20 mx-auto bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-3xl shadow-sm"><i class="fas fa-search-plus"></i></div>
                            <h4 class="mt-4 font-bold text-gray-800">Step 02</h4>
                            <p class="text-gray-600">기업 특성 및 업무 분석</p>
                        </div>
                        <div class="hidden md:block text-gray-300 text-2xl"><i class="fas fa-chevron-right"></i></div>
                        <div class="flex-1 text-center">
                            <div class="w-20 h-20 mx-auto bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-3xl shadow-sm"><i class="fas fa-user-tie"></i></div>
                            <h4 class="mt-4 font-bold text-gray-800">Step 03</h4>
                            <p class="text-gray-600">전문 인력 배정</p>
                        </div>
                        <div class="hidden md:block text-gray-300 text-2xl"><i class="fas fa-chevron-right"></i></div>
                        <div class="flex-1 text-center">
                            <div class="w-20 h-20 mx-auto bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-3xl shadow-sm"><i class="fas fa-users"></i></div>
                            <h4 class="mt-4 font-bold text-gray-800">Step 04</h4>
                            <p class="text-gray-600">추가 인원 교육 진행</p>
                        </div>
                        <div class="hidden md:block text-gray-300 text-2xl"><i class="fas fa-chevron-right"></i></div>
                        <div class="flex-1 text-center">
                            <div class="w-20 h-20 mx-auto bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-3xl shadow-sm"><i class="fas fa-sync-alt"></i></div>
                            <h4 class="mt-4 font-bold text-gray-800">Step 05</h4>
                            <p class="text-gray-600">실시간 리포팅 및 피드백</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Community Gallery Page Content -->
        <div id="community-gallery">
             <div id="gallery-admin-panel" class="admin-panel sticky top-20 z-40 bg-blue-800 text-white shadow-lg">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center">
                    <span class="font-bold"><i class="fas fa-user-shield mr-2"></i>관리자 모드</span>
                    <div>
                        <button id="add-photo-btn" class="bg-white text-blue-800 font-semibold py-2 px-4 rounded-md hover:bg-gray-100 transition-colors mr-2"><i class="fas fa-plus mr-2"></i>새 사진 추가</button>
                    </div>
                </div>
            </div>
            <section class="bg-gray-900 bg-cover bg-center" style="background-image: linear-gradient(rgba(29, 36, 48, 0.8), rgba(29, 36, 48, 0.8)), url('https://placehold.co/1920x600/1e293b/ffffff?text=Photo+Gallery');">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-24 md:py-40 text-center text-white">
                    <h1 class="text-4xl md:text-5xl font-extrabold">포토갤러리</h1>
                    <p class="mt-4 text-lg md:text-xl text-gray-300">AUTOLAB의 활동 모습을 사진으로 만나보세요.</p>
                </div>
            </section>
             <div class="border-b border-gray-200 sticky top-20 bg-white z-40">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <nav class="flex -mb-px">
                        <a href="#" data-target="about-us" class="nav-link border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 py-4 px-4 text-center font-medium">About us</a>
                        <a href="#" data-target="community-gallery" class="nav-link border-b-2 border-blue-800 text-blue-800 py-4 px-1 text-center font-semibold">포토갤러리</a>
                    </nav>
                </div>
            </div>
            <section id="gallery" class="py-20 lg:py-32">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div id="gallery-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-4 gap-y-8">
                        <p id="gallery-loading" class="col-span-full text-center text-gray-500">사진을 불러오는 중...</p>
                    </div>
                </div>
            </section>
        </div>
        
        <!-- About Us Page Content -->
        <div id="about-us">
            <div id="about-us-admin-panel" class="admin-panel sticky top-20 z-40 bg-blue-800 text-white shadow-lg">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center">
                    <span class="font-bold"><i class="fas fa-user-shield mr-2"></i>관리자 모드</span>
                    <div>
                        <button id="add-about-us-btn" class="bg-white text-blue-800 font-semibold py-2 px-4 rounded-md hover:bg-gray-100 transition-colors mr-2"><i class="fas fa-plus mr-2"></i>새 글 추가</button>
                    </div>
                </div>
            </div>
            <section class="bg-gray-900 bg-cover bg-center" style="background-image: linear-gradient(rgba(29, 36, 48, 0.8), rgba(29, 36, 48, 0.8)), url('https://placehold.co/1920x600/1e293b/ffffff?text=About+Us');">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-24 md:py-40 text-center text-white">
                    <h1 class="text-4xl md:text-5xl font-extrabold">About us</h1>
                    <p class="mt-4 text-lg md:text-xl text-gray-300">AUTOLAB의 새로운 소식을 전해드립니다.</p>
                </div>
            </section>
            <div class="border-b border-gray-200 sticky top-20 bg-white z-40">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <nav class="flex -mb-px">
                        <a href="#" data-target="about-us" class="nav-link border-b-2 border-blue-800 text-blue-800 py-4 px-1 text-center font-semibold">About us</a>
                        <a href="#" data-target="community-gallery" class="nav-link border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 py-4 px-4 text-center font-medium">포토갤러리</a>
                    </nav>
                </div>
            </div>
            <section id="about-us-list" class="py-20 lg:py-32">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl">
                    <div id="about-us-accordion" class="border-t border-gray-200">
                        <p id="about-us-loading" class="text-center text-gray-500 py-10">내용을 불러오는 중...</p>
                    </div>
                </div>
            </section>
        </div>

        <!-- Quote Page Content -->
        <div id="quote">
             <section class="bg-gray-900 bg-cover bg-center" style="background-image: linear-gradient(rgba(29, 36, 48, 0.8), rgba(29, 36, 48, 0.8)), url('https://placehold.co/1920x600/1e293b/ffffff?text=Contact+Us');">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-24 md:py-40 text-center text-white">
                    <h1 class="text-4xl md:text-5xl font-extrabold">견적문의</h1>
                    <p class="mt-4 text-lg md:text-xl text-gray-300">궁금한 점이 있으신가요? AUTOLAB의 전문가가 빠르고 정확하게 답변해 드립니다.</p>
                </div>
            </section>
            <section id="forms" class="py-20 lg:py-32 bg-gray-50">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="grid lg:grid-cols-2 gap-10 lg:gap-16">
                        <!-- R&D Inquiry Form -->
                        <div class="bg-white p-8 lg:p-12 rounded-lg shadow-lg scroll-reveal">
                            <div class="text-center mb-8">
                                <div class="w-16 h-16 mx-auto bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-3xl mb-4"><i class="fas fa-microchip"></i></div>
                                <h2 class="text-2xl font-bold text-gray-800">R&D 견적 문의</h2>
                                <p class="text-gray-600 mt-2">센서 개발, 기술 컨설팅 등 R&D 프로젝트에 대해 문의해주세요.</p>
                                <p class="text-sm text-gray-500 mt-4">연락가능한 시간: 월~금 09:00~18:00</p>
                            </div>
                            <form name="rd-inquiry" method="POST" data-netlify="true" class="space-y-5">
                                <input type="hidden" name="form-name" value="rd-inquiry">
                                <input type="text" name="company" placeholder="회사/기관명" required class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-800">
                                <input type="text" name="name" placeholder="담당자명" required class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-800">
                                <input type="tel" name="phone" placeholder="연락처" required class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-800">
                                <input type="email" name="email" placeholder="이메일" required class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-800">
                                <textarea name="message" placeholder="문의 내용을 상세히 입력해주세요." rows="5" required class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-800"></textarea>
                                <div>
                                    <label for="file-rd" class="block text-sm font-medium text-gray-700">참고 자료 첨부 (선택)</label>
                                    <input type="file" name="file" id="file-rd" class="mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
                                </div>
                                <div class="flex items-center">
                                    <input id="agree-rd" name="agree-rd" type="checkbox" required class="h-4 w-4 text-blue-800 focus:ring-blue-700 border-gray-300 rounded">
                                    <label for="agree-rd" class="ml-2 block text-sm text-gray-900">개인정보 수집 및 이용에 동의합니다.</label>
                                </div>
                                <button type="submit" class="w-full bg-blue-800 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-900 transition-colors">문의하기</button>
                            </form>
                        </div>

                        <!-- ICT Education Inquiry Form -->
                        <div class="bg-white p-8 lg:p-12 rounded-lg shadow-lg scroll-reveal" style="transition-delay: 150ms;">
                            <div class="text-center mb-8">
                                <div class="w-16 h-16 mx-auto bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-3xl mb-4"><i class="fas fa-chalkboard-teacher"></i></div>
                                <h2 class="text-2xl font-bold text-gray-800">ICT 교육 견적 문의</h2>
                                <p class="text-gray-600 mt-2">기업 맞춤형 교육, 단체 교육 등에 대해 문의해주세요.</p>
                                <p class="text-sm text-gray-500 mt-4">연락가능한 시간: 월~금 09:00~18:00</p>
                            </div>
                             <form name="ict-inquiry" method="POST" data-netlify="true" class="space-y-5">
                                <input type="hidden" name="form-name" value="ict-inquiry">
                                <input type="text" name="company" placeholder="회사/기관명" required class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-800">
                                <input type="text" name="name" placeholder="담당자명" required class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-800">
                                <input type="tel" name="phone" placeholder="연락처" required class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-800">
                                <input type="email" name="email" placeholder="이메일" required class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-800">
                                <textarea name="message" placeholder="문의 내용을 상세히 입력해주세요. (예: 희망 교육 분야, 예상 인원 등)" rows="5" required class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-800"></textarea>
                                <div>
                                    <label for="file-ict" class="block text-sm font-medium text-gray-700">참고 자료 첨부 (선택)</label>
                                    <input type="file" name="file" id="file-ict" class="mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
                                </div>
                                <div class="flex items-center">
                                    <input id="agree-ict" name="agree-ict" type="checkbox" required class="h-4 w-4 text-blue-800 focus:ring-blue-700 border-gray-300 rounded">
                                    <label for="agree-ict" class="ml-2 block text-sm text-gray-900">개인정보 수집 및 이용에 동의합니다.</label>
                                </div>
                                <button type="submit" class="w-full bg-blue-800 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-900 transition-colors">문의하기</button>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        
        <!-- Products Page Content -->
        <div id="products">
            <div id="product-admin-panel" class="admin-panel sticky top-20 z-40 bg-blue-800 text-white shadow-lg">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center">
                    <span class="font-bold"><i class="fas fa-user-shield mr-2"></i>관리자 모드</span>
                    <div>
                        <button id="add-product-btn" class="bg-white text-blue-800 font-semibold py-2 px-4 rounded-md hover:bg-gray-100 transition-colors mr-2"><i class="fas fa-plus mr-2"></i>새 제품 추가</button>
                    </div>
                </div>
            </div>
            <section class="bg-gray-900 bg-cover bg-center" style="background-image: linear-gradient(rgba(29, 36, 48, 0.8), rgba(29, 36, 48, 0.8)), url('https://placehold.co/1920x600/1e293b/ffffff?text=Our+Products');">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-24 md:py-40 text-center text-white">
                    <h1 class="text-4xl md:text-5xl font-extrabold">제품소개</h1>
                    <p class="mt-4 text-lg md:text-xl text-gray-300">AUTOLAB의 기술력으로 탄생한 혁신적인 제품들을 만나보세요.</p>
                </div>
            </section>
            <section id="rd-products" class="py-20 lg:py-32">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-16 scroll-reveal">
                        <h2 class="text-3xl md:text-4xl font-extrabold text-gray-800">R&D 연구개발 결과물</h2>
                        <p class="mt-4 text-base md:text-lg text-gray-600">기술 의뢰를 통해 맞춤형으로 제작되는 제품입니다.</p>
                    </div>
                    <div class="grid sm:grid-cols-1 md:grid-cols-3 gap-8">
                        <!-- R&D Product 1 -->
                        <a href="#" data-target="product-rd-1" class="nav-link group block bg-gray-50 rounded-lg overflow-hidden border border-gray-200 hover:shadow-xl hover:border-blue-300 transition-all duration-300 scroll-reveal">
                            <img data-key="products.rd1.image" src="https://placehold.co/600x400/e0f2fe/1e3a8a?text=Saliva+Sensor" alt="타액 기반 혈당 센서" class="w-full h-56 object-cover">
                            <div class="p-6">
                                <h3 data-key="products.rd1.title" class="text-xl font-bold text-gray-800 mb-2">타액 기반 혈당 센서</h3>
                                <p data-key="products.rd1.description" class="text-gray-700 mb-4">침을 통해 간편하게 혈당을 측정하는 비침습적 센서 기술입니다.</p>
                                <span class="font-semibold text-blue-800 group-hover:underline">자세히 보기 &rarr;</span>
                            </div>
                        </a>
                        <!-- R&D Product 2 -->
                        <a href="#" data-target="product-rd-2" class="nav-link group block bg-gray-50 rounded-lg overflow-hidden border border-gray-200 hover:shadow-xl hover:border-blue-300 transition-all duration-300 scroll-reveal" style="transition-delay: 150ms;">
                            <img data-key="products.rd2.image" src="https://placehold.co/600x400/e0f2fe/1e3a8a?text=Paper+Sensor" alt="종이 기반 포름알데히드 센서" class="w-full h-56 object-cover">
                            <div class="p-6">
                                <h3 data-key="products.rd2.title" class="text-xl font-bold text-gray-800 mb-2">종이 기반 포름알데히드 센서</h3>
                                <p data-key="products.rd2.description" class="text-gray-700 mb-4">실내 공기질을 간편하게 측정할 수 있는 저비용 고효율의 종이 센서입니다.</p>
                                <span class="font-semibold text-blue-800 group-hover:underline">자세히 보기 &rarr;</span>
                            </div>
                        </a>
                        <!-- R&D Product 3 -->
                        <a href="#" data-target="product-rd-3" class="nav-link group block bg-gray-50 rounded-lg overflow-hidden border border-gray-200 hover:shadow-xl hover:border-blue-300 transition-all duration-300 scroll-reveal" style="transition-delay: 300ms;">
                            <img data-key="products.rd3.image" src="https://placehold.co/600x400/e0f2fe/1e3a8a?text=Smart+Band" alt="밴드형 스마트 체온계" class="w-full h-56 object-cover">
                            <div class="p-6">
                                <h3 data-key="products.rd3.title" class="text-xl font-bold text-gray-800 mb-2">밴드형 스마트 체온계</h3>
                                <p data-key="products.rd3.description" class="text-gray-700 mb-4">피부에 부착하여 실시간으로 체온을 모니터링하는 웨어러블 디바이스입니다.</p>
                                <span class="font-semibold text-blue-800 group-hover:underline">자세히 보기 &rarr;</span>
                            </div>
                        </a>
                    </div>
                </div>
            </section>
            <section id="commercial-products" class="py-20 lg:py-32 bg-gray-50">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-16 scroll-reveal">
                        <h2 class="text-3xl md:text-4xl font-extrabold text-gray-800">시판 제품</h2>
                        <p class="mt-4 text-base md:text-lg text-gray-600">네이버 스마트스토어에서 구매 가능한 교육용 제품입니다.</p>
                    </div>
                    <div id="product-grid" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-8">
                        <p id="product-loading" class="col-span-full text-center text-gray-500">제품 목록을 불러오는 중...</p>
                    </div>
                </div>
            </section>
        </div>
        
        <!-- R&D Product Detail Pages -->
        <div id="product-rd-1">
            <section class="bg-gray-100 py-20 lg:py-32">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <button class="nav-link mb-8 text-blue-800 font-semibold" data-target="products">&larr; 제품 목록으로 돌아가기</button>
                    <div class="grid lg:grid-cols-2 gap-12 items-center">
                        <img data-key="product-rd-1.image" src="https://placehold.co/800x600/e0f2fe/1e3a8a?text=Saliva+Sensor" alt="타액 기반 혈당 센서" class="rounded-lg shadow-xl w-full">
                        <div>
                            <h1 data-key="product-rd-1.title" class="text-3xl md:text-4xl font-extrabold text-gray-800">타액 기반 혈당 센서</h1>
                            <p data-key="product-rd-1.subtitle" class="mt-4 text-lg text-gray-600">바늘 없이, 침 한 방울로 혈당을 관리하는 새로운 시대</p>
                        </div>
                    </div>
                </div>
            </section>
            <section class="py-20 lg:py-24">
                 <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl space-y-12">
                     <div>
                         <h2 class="text-2xl font-bold text-gray-800 mb-4">소개</h2>
                         <p data-key="product-rd-1.intro" class="text-gray-700 leading-relaxed text-base md:text-lg">타액 기반 혈당 센서는 채혈의 고통과 불편함 없이 타액(침)을 이용하여 혈당을 측정하는 혁신적인 비침습적 방식의 센서입니다. AUTOLAB의 독자적인 효소 고정화 기술과 미세 신호 증폭 기술을 통해 타액 속 미량의 글루코스 농도를 정밀하게 측정하여, 당뇨 환자들의 삶의 질을 획기적으로 개선할 수 있습니다.</p>
                     </div>
                      <div>
                         <h2 class="text-2xl font-bold text-gray-800 mb-4">주요 결과</h2>
                         <ul class="list-disc list-inside space-y-2 text-gray-700 text-base md:text-lg">
                             <li data-key="product-rd-1.result1">기존 혈액 기반 측정 방식 대비 95% 이상의 높은 상관관계 확보</li>
                             <li data-key="product-rd-1.result2">측정 후 10초 이내 결과 도출 가능한 빠른 반응 속도</li>
                             <li data-key="product-rd-1.result3">나노 기술을 적용한 센서 민감도 100배 향상</li>
                         </ul>
                     </div>
                      <div>
                         <h2 class="text-2xl font-bold text-gray-800 mb-4">스펙</h2>
                         <table class="w-full text-left border-collapse text-base md:text-lg">
                             <tbody class="align-baseline">
                                 <tr class="border-b"><th class="py-2 pr-2 font-medium text-gray-600">측정 방식</th><td data-key="product-rd-1.spec1" class="py-2 text-gray-800">전기화학적 효소 반응</td></tr>
                                 <tr class="border-b"><th class="py-2 pr-2 font-medium text-gray-600">측정 범위</th><td data-key="product-rd-1.spec2" class="py-2 text-gray-800">20 ~ 500 mg/dL</td></tr>
                                 <tr class="border-b"><th class="py-2 pr-2 font-medium text-gray-600">필요 시료량</th><td data-key="product-rd-1.spec3" class="py-2 text-gray-800">0.5 μL (마이크로리터)</td></tr>
                                 <tr><th class="py-2 pr-2 font-medium text-gray-600">사용 온도</th><td data-key="product-rd-1.spec4" class="py-2 text-gray-800">10°C ~ 40°C</td></tr>
                             </tbody>
                         </table>
                     </div>
                 </div>
            </section>
        </div>
        <div id="product-rd-2">
             <section class="bg-gray-100 py-20 lg:py-32">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <button class="nav-link mb-8 text-blue-800 font-semibold" data-target="products">&larr; 제품 목록으로 돌아가기</button>
                    <div class="grid lg:grid-cols-2 gap-12 items-center">
                        <img data-key="product-rd-2.image" src="https://placehold.co/800x600/e0f2fe/1e3a8a?text=Paper+Sensor" alt="종이 기반 포름알데히드 센서" class="rounded-lg shadow-xl w-full">
                        <div>
                            <h1 data-key="product-rd-2.title" class="text-3xl md:text-4xl font-extrabold text-gray-800">종이 기반 포름알데히드 센서</h1>
                            <p data-key="product-rd-2.subtitle" class="mt-4 text-lg text-gray-600">보이지 않는 실내 공기 오염, 색깔 변화로 간편하게 확인</p>
                        </div>
                    </div>
                </div>
            </section>
            <section class="py-20 lg:py-24">
                 <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl space-y-12">
                     <div>
                         <h2 class="text-2xl font-bold text-gray-800 mb-4">소개</h2>
                         <p data-key="product-rd-2.intro" class="text-gray-700 leading-relaxed text-base md:text-lg">종이 기반 포름알데히드 센서는 새집증후군의 주 원인인 포름알데히드를 저렴하고 간편하게 검출할 수 있는 친환경 센서입니다. 특수 시약이 코팅된 종이가 공기 중의 포름알데히드와 반응하여 색이 변하는 원리를 이용하며, 스마트폰 앱으로 색 변화를 촬영하여 농도를 정량적으로 분석할 수 있습니다.</p>
                     </div>
                      <div>
                         <h2 class="text-2xl font-bold text-gray-800 mb-4">주요 결과</h2>
                         <ul class="list-disc list-inside space-y-2 text-gray-700 text-base md:text-lg">
                             <li data-key="product-rd-2.result1">WHO 권고 기준치 이하의 극미량 농도(0.01 ppm)까지 검출 가능</li>
                             <li data-key="product-rd-2.result2">기존 고가 장비 대비 1/100 수준의 생산 단가 달성</li>
                             <li data-key="product-rd-2.result3">스마트폰 앱 연동 시 98% 이상의 측정 정확도 제공</li>
                         </ul>
                     </div>
                      <div>
                         <h2 class="text-2xl font-bold text-gray-800 mb-4">스펙</h2>
                         <table class="w-full text-left border-collapse text-base md:text-lg">
                             <tbody class="align-baseline">
                                 <tr class="border-b"><th class="py-2 pr-2 font-medium text-gray-600">검출 방식</th><td data-key="product-rd-2.spec1" class="py-2 text-gray-800">비색 변화(Colorimetric) 방식</td></tr>
                                 <tr class="border-b"><th class="py-2 pr-2 font-medium text-gray-600">검출 범위</th><td data-key="product-rd-2.spec2" class="py-2 text-gray-800">0.01 ~ 1.0 ppm</td></tr>
                                 <tr class="border-b"><th class="py-2 pr-2 font-medium text-gray-600">센서 크기</th><td data-key="product-rd-2.spec3" class="py-2 text-gray-800">1cm x 5cm</td></tr>
                                 <tr><th class="py-2 pr-2 font-medium text-gray-600">유효 기간</th><td data-key="product-rd-2.spec4" class="py-2 text-gray-800">제조 후 12개월</td></tr>
                             </tbody>
                         </table>
                     </div>
                 </div>
            </section>
        </div>
        <div id="product-rd-3">
            <section class="bg-gray-100 py-20 lg:py-32">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <button class="nav-link mb-8 text-blue-800 font-semibold" data-target="products">&larr; 제품 목록으로 돌아가기</button>
                    <div class="grid lg:grid-cols-2 gap-12 items-center">
                        <img data-key="product-rd-3.image" src="https://placehold.co/800x600/e0f2fe/1e3a8a?text=Smart+Band" alt="밴드형 스마트 체온계" class="rounded-lg shadow-xl w-full">
                        <div>
                            <h1 data-key="product-rd-3.title" class="text-3xl md:text-4xl font-extrabold text-gray-800">밴드형 스마트 체온계</h1>
                            <p data-key="product-rd-3.subtitle" class="mt-4 text-lg text-gray-600">24시간 체온 변화를 놓치지 않고 기록하는 스마트 건강 관리 파트너</p>
                        </div>
                    </div>
                </div>
            </section>
            <section class="py-20 lg:py-24">
                 <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl space-y-12">
                     <div>
                         <h2 class="text-2xl font-bold text-gray-800 mb-4">소개</h2>
                         <p data-key="product-rd-3.intro" class="text-gray-700 leading-relaxed text-base md:text-lg">밴드형 스마트 체온계는 피부에 부착하는 유연한 밴드 형태의 웨어러블 기기로, 24시간 지속적으로 체온을 측정하고 스마트폰으로 데이터를 전송합니다. 영유아의 발열 관리, 질병 예측, 여성의 배란일 추적 등 다양한 헬스케어 분야에 활용될 수 있는 차세대 스마트 체온계입니다.</p>
                     </div>
                      <div>
                         <h2 class="text-2xl font-bold text-gray-800 mb-4">주요 결과</h2>
                         <ul class="list-disc list-inside space-y-2 text-gray-700 text-base md:text-lg">
                             <li data-key="product-rd-3.result1">의료기기 수준의 체온 측정 정확도(±0.1°C) 확보</li>
                             <li data-key="product-rd-3.result2">초저전력 설계를 통한 1회 충전 시 최대 7일 사용 가능</li>
                             <li data-key="product-rd-3.result3">피부 자극이 없는 생체 적합성 소재 적용 및 방수 기능 구현</li>
                         </ul>
                     </div>
                      <div>
                         <h2 class="text-2xl font-bold text-gray-800 mb-4">스펙</h2>
                         <table class="w-full text-left border-collapse text-base md:text-lg">
                             <tbody class="align-baseline">
                                 <tr class="border-b"><th class="py-2 pr-2 font-medium text-gray-600">센서 타입</th><td data-key="product-rd-3.spec1" class="py-2 text-gray-800">고정밀 서미스터</td></tr>
                                 <tr class="border-b"><th class="py-2 pr-2 font-medium text-gray-600">무선 통신</th><td data-key="product-rd-3.spec2" class="py-2 text-gray-800">Bluetooth 5.0 LE</td></tr>
                                 <tr class="border-b"><th class="py-2 pr-2 font-medium text-gray-600">배터리</th><td data-key="product-rd-3.spec3" class="py-2 text-gray-800">리튬 폴리머 50mAh</td></tr>
                                 <tr><th class="py-2 pr-2 font-medium text-gray-600">방수 등급</th><td data-key="product-rd-3.spec4" class="py-2 text-gray-800">IP67</td></tr>
                             </tbody>
                         </table>
                     </div>
                 </div>
            </section>
        </div>
    </div>


    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-400 text-sm">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-10">
            <div class="mb-6">
                <h3 class="text-lg font-bold text-white mb-2">AUTOLAB</h3>
                <p class="font-semibold text-gray-300">AUTOLAB 사업자 정보</p>
            </div>
            <div class="space-y-1 text-xs leading-relaxed">
                <p>
                    <span data-key="footer.address" class="mr-2">경상남도 창원시 마산합포구 경남대학로 7, 1공학관 4층</span> |
                    <span data-key="footer.phone" class="mx-2">010-0000-0000</span> |
                    <span data-key="footer.ceo" class="mx-2">대표 : 신정활</span> |
                    <span data-key="footer.crn" class="ml-2">사업자등록번호 : 310-17-61940</span>
                </p>
                <p>
                    <span data-key="footer.ecomReg" class="mr-2">통신판매업신고 : 2025-0000-0000</span> |
                    <span data-key="footer.email" class="ml-2">이메일 : contact@autolab.co.kr</span>
                </p>
            </div>
            <div class="mt-4 text-xs">
                <button id="terms-link" class="hover:text-white">이용약관</button>
                <span class="mx-2 text-gray-600">|</span>
                <button id="privacy-link" class="hover:text-white font-semibold">개인정보처리방침</button>
            </div>
            <div class="mt-6 flex space-x-4 items-center text-xs">
                <a href="https://www.instagram.com/hey.autolab?igsh=c2thN3R6OWphMHpy" target="_blank" rel="noopener noreferrer" class="flex items-center hover:text-white">
                    <i class="fab fa-instagram mr-2 text-lg"></i> AUTOLAB 인스타그램
                </a>
                <a href="https://www.facebook.com/share/1Y89qWZtNo/" target="_blank" rel="noopener noreferrer" class="flex items-center hover:text-white">
                    <i class="fab fa-facebook mr-2 text-lg"></i> AUTOLAB 페이스북
                </a>
            </div>
             <div class="mt-8 pt-8 border-t border-gray-700 text-center text-gray-500 text-xs">
                <p>&copy; 2025 AUTOLAB. All Rights Reserved.</p>
                <button id="admin-login-btn" class="mt-4 text-gray-600 hover:text-white transition-colors">Admin Login</button>
            </div>
        </div>
    </footer>

    <!-- Modals -->
    <div id="modal-container">
        <!-- Search Modal -->
        <div id="search-modal" class="hidden fixed inset-0 bg-black bg-opacity-70 z-[60] flex items-start justify-center p-4 pt-24">
            <div class="relative bg-white rounded-lg shadow-xl w-full max-w-2xl">
                <div class="flex items-center p-2 border-b">
                    <i class="fas fa-search text-gray-400 mx-3"></i>
                    <input type="text" id="search-input" placeholder="검색어를 입력하세요..." class="w-full p-3 border-0 focus:ring-0">
                    <button id="close-search-btn" class="p-3 text-gray-500 hover:text-gray-800">&times;</button>
                </div>
            </div>
        </div>
        <!-- History Admin Modal -->
        <div id="admin-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-lg p-6">
                <h2 id="modal-title" class="text-2xl font-bold mb-4">연혁 추가/수정</h2>
                <form id="history-form">
                    <input type="hidden" id="history-id">
                    <div class="space-y-4">
                        <input id="history-year" type="text" placeholder="연도 (예: 2025)" class="w-full p-2 border rounded" required>
                        <textarea id="history-events" placeholder="내용 (한 줄에 하나씩 입력)" rows="5" class="w-full p-2 border rounded" required></textarea>
                        <input id="history-order" type="number" placeholder="순서 (예: 2025, 숫자가 작을수록 위)" class="w-full p-2 border rounded" required>
                    </div>
                    <div class="mt-6 flex justify-end space-x-3">
                        <button type="button" id="cancel-btn" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded">취소</button>
                        <button type="submit" id="save-btn" class="bg-blue-800 hover:bg-blue-900 text-white font-bold py-2 px-4 rounded">저장</button>
                    </div>
                </form>
            </div>
        </div>
        <!-- Gallery Admin Modal -->
        <div id="gallery-admin-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-lg p-6">
                <h2 id="gallery-modal-title" class="text-2xl font-bold mb-4">사진 추가/수정</h2>
                <form id="photo-form">
                    <input type="hidden" id="photo-id">
                    <div class="space-y-4">
                        <input id="photo-title" type="text" placeholder="제목" class="w-full p-2 border rounded" required>
                        <textarea id="photo-description" placeholder="설명" rows="3" class="w-full p-2 border rounded"></textarea>
                        <div>
                            <label for="photo-imageUrl" class="block text-sm font-medium text-gray-700">이미지 URL</label>
                            <input type="url" id="photo-imageUrl" placeholder="https://i.imgur.com/image.png" class="mt-1 w-full p-2 border rounded" required>
                        </div>
                    </div>
                    <div class="mt-6 flex justify-end space-x-3">
                        <button type="button" id="gallery-cancel-btn" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded">취소</button>
                        <button type="submit" id="gallery-save-btn" class="bg-blue-800 hover:bg-blue-900 text-white font-bold py-2 px-4 rounded">저장</button>
                    </div>
                </form>
            </div>
        </div>
        <!-- About Us Admin Modal -->
        <div id="about-us-admin-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl p-6">
                <h2 id="about-us-modal-title" class="text-2xl font-bold mb-4">About us 작성</h2>
                <form id="about-us-form">
                    <input type="hidden" id="about-us-id">
                    <div class="space-y-4">
                        <input id="about-us-title" type="text" placeholder="제목" class="w-full p-2 border rounded" required>
                        <textarea id="about-us-content" placeholder="내용" rows="10" class="w-full p-2 border rounded" required></textarea>
                    </div>
                    <div class="mt-6 flex justify-end space-x-3">
                        <button type="button" id="about-us-cancel-btn" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded">취소</button>
                        <button type="submit" id="about-us-save-btn" class="bg-blue-800 hover:bg-blue-900 text-white font-bold py-2 px-4 rounded">저장</button>
                    </div>
                </form>
            </div>
        </div>
        <!-- Product Admin Modal -->
        <div id="product-admin-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-lg p-6">
                <h2 id="product-modal-title" class="text-2xl font-bold mb-4">시판 제품 추가/수정</h2>
                <form id="product-form">
                    <input type="hidden" id="product-id">
                    <div class="space-y-4">
                        <input id="product-title" type="text" placeholder="제품명" class="w-full p-2 border rounded" required>
                        <textarea id="product-description" placeholder="설명" rows="3" class="w-full p-2 border rounded"></textarea>
                        <input type="url" id="product-imageUrl" placeholder="이미지 URL" class="w-full p-2 border rounded" required>
                        <input type="url" id="product-storeUrl" placeholder="스토어 URL" class="w-full p-2 border rounded" required>
                    </div>
                    <div class="mt-6 flex justify-end space-x-3">
                        <button type="button" id="product-cancel-btn" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded">취소</button>
                        <button type="submit" id="product-save-btn" class="bg-blue-800 hover:bg-blue-900 text-white font-bold py-2 px-4 rounded">저장</button>
                    </div>
                </form>
            </div>
        </div>
        <!-- Lightbox Modal -->
        <div id="lightbox-modal" class="hidden fixed inset-0 bg-black bg-opacity-80 z-[80] flex items-center justify-center p-4">
            <div class="relative max-w-4xl w-full">
                <button id="close-lightbox-btn" class="absolute -top-12 right-0 text-white text-4xl">&times;</button>
                <img id="lightbox-image" src="" alt="Enlarged photo" class="max-w-full max-h-[75vh] rounded-lg mx-auto">
                <div id="lightbox-caption" class="text-white text-left mt-4 p-4 bg-black bg-opacity-50 rounded-b-lg"></div>
            </div>
        </div>
        <!-- Terms of Service Modal -->
        <div id="terms-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 z-[70] flex items-center justify-center p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-3xl h-3/4 flex flex-col text-gray-800">
                <div class="p-4 border-b flex justify-between items-center">
                    <h2 class="text-xl font-bold">이용약관</h2>
                    <button class="close-modal-btn p-2 text-2xl leading-none">&times;</button>
                </div>
                <div class="p-6 overflow-y-auto space-y-4 text-sm">
                    <h3 class="font-bold">제1조 (목적)</h3>
                    <p>이 약관은 AUTOLAB (이하 "회사")가 제공하는 서비스의 이용과 관련하여 회사와 회원과의 권리, 의무 및 책임사항, 기타 필요한 사항을 규정함을 목적으로 합니다.</p>
                    <h3 class="font-bold">제2조 (정의)</h3>
                    <p>1. "서비스"라 함은 구현되는 단말기(PC, 모바일, 태블릿 PC 등의 각종 유무선 장치를 포함)와 상관없이 "회원"이 이용할 수 있는 AUTOLAB 및 AUTOLAB 관련 제반 서비스를 의미합니다.</p>
                    <p>2. "회원"이라 함은 회사의 "서비스"에 접속하여 이 약관에 따라 "회사"와 이용계약을 체결하고 "회사"가 제공하는 "서비스"를 이용하는 고객을 말합니다.</p>
                    <h3 class="font-bold">제3조 (약관의 게시와 개정)</h3>
                    <p>1. "회사"는 이 약관의 내용을 "회원"이 쉽게 알 수 있도록 서비스 초기 화면에 게시합니다.</p>
                    <p>2. "회사"는 "약관의규제에관한법률", "정보통신망이용촉진및정보보호등에관한법률(이하 "정보통신망법")" 등 관련법을 위배하지 않는 범위에서 이 약관을 개정할 수 있습니다.</p>
                    <h3 class="font-bold">제4조 (서비스의 제공 및 변경)</h3>
                    <p>1. 회사는 다음과 같은 업무를 수행합니다.
                        <br>- 재화 또는 용역에 대한 정보 제공 및 구매계약의 체결
                        <br>- 구매계약이 체결된 재화 또는 용역의 배송
                        <br>- 기타 회사가 정하는 업무
                    </p>
                    <p>2. "회사"는 재화 또는 용역의 품절 또는 기술적 사양의 변경 등의 경우에는 장차 체결되는 계약에 의해 제공할 재화 또는 용역의 내용을 변경할 수 있습니다. 이 경우에는 변경된 재화 또는 용역의 내용 및 제공일자를 명시하여 현재의 재화 또는 용역의 내용을 게시한 곳에 즉시 공지합니다.</p>
                </div>
            </div>
        </div>
        <!-- Privacy Policy Modal -->
        <div id="privacy-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 z-[70] flex items-center justify-center p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-3xl h-3/4 flex flex-col text-gray-800">
                <div class="p-4 border-b flex justify-between items-center">
                    <h2 class="text-xl font-bold">개인정보처리방침</h2>
                    <button class="close-modal-btn p-2 text-2xl leading-none">&times;</button>
                </div>
                <div class="p-6 overflow-y-auto space-y-4 text-sm">
                    <h3 class="font-bold">1. 개인정보의 처리 목적</h3>
                    <p>AUTOLAB(이하 '회사')은 다음의 목적을 위하여 개인정보를 처리합니다. 처리하고 있는 개인정보는 다음의 목적 이외의 용도로는 이용되지 않으며, 이용 목적이 변경되는 경우에는 개인정보 보호법 제18조에 따라 별도의 동의를 받는 등 필요한 조치를 이행할 예정입니다.</p>
                    <p>- 재화 또는 서비스 제공: 물품배송, 서비스 제공, 계약서·청구서 발송, 콘텐츠 제공, 맞춤서비스 제공, 본인인증, 연령인증, 요금결제·정산 등을 목적으로 개인정보를 처리합니다.</p>
                    <p>- 고충처리: 민원인의 신원 확인, 민원사항 확인, 사실조사를 위한 연락·통지, 처리결과 통보 등의 목적으로 개인정보를 처리합니다.</p>
                    <h3 class="font-bold">2. 개인정보의 처리 및 보유 기간</h3>
                    <p>① 회사는 법령에 따른 개인정보 보유·이용기간 또는 정보주체로부터 개인정보를 수집 시에 동의 받은 개인정보 보유·이용기간 내에서 개인정보를 처리·보유합니다.</p>
                    <p>② 각각의 개인정보 처리 및 보유 기간은 다음과 같습니다.
                        <br>- 고객 가입 및 관리 : 서비스 이용계약 또는 회원가입 해지시까지, 다만 채권·채무관계 잔존시에는 해당 관계 정산시까지
                        <br>- 전자상거래에서의 계약·청약철회, 대금결제, 재화 등 공급기록 : 5년
                    </p>
                    <h3 class="font-bold">3. 개인정보의 제3자 제공에 관한 사항</h3>
                    <p>회사는 정보주체의 개인정보를 제1조(개인정보의 처리 목적)에서 명시한 범위 내에서만 처리하며, 정보주체의 동의, 법률의 특별한 규정 등 개인정보 보호법 제17조에 해당하는 경우에만 개인정보를 제3자에게 제공합니다.</p>
                </div>
            </div>
        </div>
        <!-- Custom Alert/Confirm Modal -->
        <div id="custom-dialog-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-[90] flex items-center justify-center p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-sm p-6 text-center">
                <p id="dialog-message" class="text-lg mb-6">메시지 내용</p>
                <div id="dialog-buttons" class="flex justify-center space-x-4">
                    <!-- Buttons will be injected here -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
        import { getFirestore, collection, onSnapshot, addDoc, doc, updateDoc, deleteDoc, query, orderBy, serverTimestamp, setDoc } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js";
        import { getAuth, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js";

        // --- Firebase Configuration ---
        const firebaseConfig = {
            apiKey: "AIzaSyAN0bbCZg8K2V12a-zpbf23_Z4U8CYmBms",
            authDomain: "autolab-1cd53.firebaseapp.com",
            projectId: "autolab-1cd53",
            storageBucket: "autolab-1cd53.appspot.com",
            messagingSenderId: "734510998647",
            appId: "1:734510998647:web:f5547055d5ab933d279272",
            measurementId: "G-CD93HMRDM5"
        };
        
        // --- Global Variables & DOM Elements ---
        const appContent = document.getElementById('app-content');
        const pageTemplates = document.getElementById('page-templates');
        let db, auth; // Firebase instances
        let currentPage = 'home'; // Track the current page
        let pageInitialized = {}; // Track initialized pages to prevent re-initialization
        let siteContent = {}; // To cache site content
        let contentCollection; // Firestore collection reference

        // --- Custom Dialog ---
        const dialogModal = document.getElementById('custom-dialog-modal');
        const dialogMessage = document.getElementById('dialog-message');
        const dialogButtons = document.getElementById('dialog-buttons');

        function showDialog(message, buttons) {
            dialogMessage.textContent = message;
            dialogButtons.innerHTML = '';
            buttons.forEach(btn => {
                const buttonEl = document.createElement('button');
                buttonEl.textContent = btn.text;
                buttonEl.className = btn.class;
                buttonEl.onclick = () => {
                    dialogModal.classList.add('hidden');
                    if (btn.onClick) btn.onClick();
                };
                dialogButtons.appendChild(buttonEl);
            });
            dialogModal.classList.remove('hidden');
        }

        function customAlert(message) {
            showDialog(message, [
                { text: '확인', class: 'bg-blue-800 hover:bg-blue-900 text-white font-bold py-2 px-6 rounded' }
            ]);
        }

        function customConfirm(message) {
            return new Promise((resolve) => {
                showDialog(message, [
                    { text: '취소', class: 'bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded', onClick: () => resolve(false) },
                    { text: '확인', class: 'bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-6 rounded', onClick: () => resolve(true) }
                ]);
            });
        }

        // --- Content Management (for data-key elements) ---
        function applyContent(key, value) {
            const elements = document.querySelectorAll(`[data-key="${key}"]`);
            elements.forEach(el => {
                if (el.tagName === 'IMG') {
                    el.src = value;
                } else {
                    el.innerHTML = value;
                }
            });
        }

        function initContentManagement() {
            if (!db) return;
            contentCollection = collection(db, 'site_content');
            onSnapshot(contentCollection, (snapshot) => {
                snapshot.docs.forEach(doc => {
                    const key = doc.id;
                    const value = doc.data().value;
                    siteContent[key] = value;
                    applyContent(key, value);
                });
                if (document.body.classList.contains('admin-mode')) {
                    initAdminEditButtons();
                }
            });
        }

        async function saveContent(key, value) {
            if (!db) return;
            try {
                await setDoc(doc(db, 'site_content', key), { value });
                customAlert('내용이 저장되었습니다.');
            } catch (error) {
                console.error("Error saving content: ", error);
                customAlert('저장 중 오류가 발생했습니다.');
            }
        }

        function htmlToText(html) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = html.replace(/<br\s*\/?>/gi, "\n");
            return tempDiv.textContent || tempDiv.innerText || "";
        }

        function textToHtml(text) {
            const escapeDiv = document.createElement('div');
            escapeDiv.textContent = text;
            return escapeDiv.innerHTML.replace(/\n/g, "<br>");
        }

        function initAdminEditButtons() {
            if (!document.body.classList.contains('admin-mode')) return;

            document.querySelectorAll('[data-key]').forEach(element => {
                element.querySelector('.edit-btn-icon')?.remove();

                const editBtn = document.createElement('button');
                editBtn.className = 'edit-btn-icon';
                editBtn.innerHTML = '<i class="fas fa-pencil-alt" style="font-size: 10px;"></i>';
                
                editBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();

                    const key = element.dataset.key;
                    
                    if (element.tagName === 'IMG') {
                        const oldValue = element.src;
                        const newValue = prompt(`'${key}' 이미지 URL 수정:`, oldValue);
                        if (newValue !== null && newValue !== oldValue) {
                            saveContent(key, newValue);
                        }
                    } else {
                        const oldValueRaw = siteContent[key] || element.innerHTML;
                        const oldValueForPrompt = htmlToText(oldValueRaw);
                        const newValueFromPrompt = prompt(`'${key}' 내용 수정:`, oldValueForPrompt);

                        if (newValueFromPrompt !== null && newValueFromPrompt !== oldValueForPrompt) {
                            const newValueForHTML = textToHtml(newValueFromPrompt);
                            saveContent(key, newValueForHTML);
                        }
                    }
                });
                
                if (element.tagName === 'IMG') {
                    if (getComputedStyle(element.parentElement).position === 'static') {
                        element.parentElement.style.position = 'relative';
                    }
                    element.parentElement.appendChild(editBtn);
                } else {
                    element.appendChild(editBtn);
                }
            });
        }
        
        function removeAdminEditButtons() {
            document.querySelectorAll('.edit-btn-icon').forEach(btn => btn.remove());
        }


        // --- Router Logic ---
        function navigateTo(pageId) {
            currentPage = pageId;
            window.location.hash = pageId;

            const targetTemplate = pageTemplates.querySelector(`#${pageId}`);
            if (!targetTemplate) {
                console.warn(`Page "${pageId}" not found. Loading home page.`);
                navigateTo('home');
                return;
            }
            
            const newContent = targetTemplate.cloneNode(true);
            newContent.id = ''; 
            newContent.classList.add('page-content');

            appContent.innerHTML = '';
            appContent.appendChild(newContent);
            
            window.scrollTo(0, 0);

            Object.keys(siteContent).forEach(key => {
                applyContent(key, siteContent[key]);
            });
            
            if (!pageInitialized[pageId] || document.body.classList.contains('admin-mode')) {
                 switch(pageId) {
                    case 'history':
                        initHistoryPage();
                        break;
                    case 'community-gallery':
                        initGalleryPage();
                        break;
                    case 'about-us':
                        initAboutUsPage();
                        break;
                    case 'products':
                        initProductsPage();
                        break;
                    case 'login':
                        initLoginPage();
                        break;
                 }
                 pageInitialized[pageId] = true;
            }
            
            initCommonScripts(); 
            bindNavLinks(appContent);

            if (document.body.classList.contains('admin-mode')) {
                initAdminEditButtons();
            }
        }
        
        function bindNavLinks(container) {
            container.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetPage = link.dataset.target;
                    if (targetPage) {
                        navigateTo(targetPage);
                        document.getElementById('mobile-menu').classList.add('hidden');
                    }
                });
            });
        }

        // --- Scroll Animation Handler ---
        function handleScrollAnimation() {
            const scrollElements = document.querySelectorAll('.scroll-reveal');
            const elementInView = (el) => el.getBoundingClientRect().top <= (window.innerHeight || document.documentElement.clientHeight) - 50;
            
            scrollElements.forEach((el) => {
                if (elementInView(el)) {
                    el.classList.add('visible');
                }
            });
        }

        // --- Page Specific Initializers ---
        function initLoginPage() {
            const loginForm = document.getElementById('login-form');
            if (loginForm) {
                loginForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    const email = document.getElementById('email').value;
                    const password = document.getElementById('password').value;
                    try {
                        await signInWithEmailAndPassword(auth, email, password);
                        navigateTo('home');
                    } catch (error) {
                        console.error("Login failed:", error);
                        customAlert('로그인에 실패했습니다. 이메일 또는 비밀번호를 확인해주세요.');
                    }
                });
            }
        }

        function initHistoryPage() {
            const historyCollection = collection(db, 'history');
            let localHistory = [];
            
            const timelineContainer = document.getElementById('timeline-container');
            const loading = document.getElementById('loading');
            const adminModal = document.getElementById('admin-modal');
            const modalTitle = document.getElementById('modal-title');
            const historyForm = document.getElementById('history-form');
            const cancelBtn = document.getElementById('cancel-btn');
            const addHistoryBtn = document.getElementById('add-history-btn');
            const saveBtn = document.getElementById('save-btn');

            function renderHistory() {
                if (!timelineContainer) return;
                timelineContainer.innerHTML = '<div class="border-l-2 border-blue-200 absolute h-full top-0 left-4"></div>';
                
                if (localHistory.length === 0) {
                    if(loading) loading.textContent = '등록된 연혁이 없습니다.';
                } else {
                   if(loading) loading.style.display = 'none';
                }

                localHistory.forEach(item => {
                    const historyBlock = document.createElement('div');
                    historyBlock.className = 'mb-16 scroll-reveal';
                    const eventsHtml = item.events.split('\n').map(event => `<p class="text-gray-600">${event}</p>`).join('');
                    historyBlock.innerHTML = `
                        <div class="flex items-center mb-4">
                            <div class="w-9 h-9 bg-blue-800 rounded-full flex-shrink-0 flex items-center justify-center z-10 shadow">
                                <span class="text-white font-bold text-lg">${item.year.slice(-2)}</span>
                            </div>
                            <h3 class="pl-6 text-2xl font-bold text-gray-800">${item.year}</h3>
                        </div>
                        <div class="ml-16 space-y-2 border-l-2 border-gray-200 pl-6 pb-4">${eventsHtml}</div>
                    `;
                    if (document.body.classList.contains('admin-mode')) {
                        const adminButtons = document.createElement('div');
                        adminButtons.className = 'ml-16 pl-6 mt-2 text-left space-x-2';
                        adminButtons.innerHTML = `
                            <button data-id="${item.id}" class="edit-btn bg-blue-500 text-white py-1 px-3 rounded-md hover:bg-blue-600 text-sm">수정</button>
                            <button data-id="${item.id}" class="delete-btn bg-red-500 text-white py-1 px-3 rounded-md hover:bg-red-600 text-sm">삭제</button>
                        `;
                        historyBlock.appendChild(adminButtons);
                    }
                    timelineContainer.appendChild(historyBlock);
                });
                handleScrollAnimation();
            }

            const q = query(historyCollection, orderBy("order", "asc"));
            onSnapshot(q, (snapshot) => {
                localHistory = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                renderHistory();
            });

            function openModal(item = null) {
                historyForm.reset();
                if (item) {
                    modalTitle.textContent = '연혁 수정';
                    document.getElementById('history-id').value = item.id;
                    document.getElementById('history-year').value = item.year;
                    document.getElementById('history-events').value = item.events;
                    document.getElementById('history-order').value = item.order;
                } else {
                    modalTitle.textContent = '새 연혁 추가';
                    document.getElementById('history-id').value = '';
                }
                adminModal.classList.remove('hidden');
            }

            function closeModal() {
                adminModal.classList.add('hidden');
            }
            
            if(addHistoryBtn) addHistoryBtn.addEventListener('click', () => openModal());
            if(cancelBtn) cancelBtn.addEventListener('click', closeModal);

            if(historyForm) historyForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                saveBtn.disabled = true;
                saveBtn.textContent = '저장 중...';
                const id = document.getElementById('history-id').value;
                const historyData = {
                    year: document.getElementById('history-year').value,
                    events: document.getElementById('history-events').value,
                    order: Number(document.getElementById('history-order').value)
                };
                try {
                    if (id) {
                        await updateDoc(doc(db, 'history', id), historyData);
                    } else {
                        await addDoc(historyCollection, historyData);
                    }
                    closeModal();
                } catch (error) {
                    console.error("Error saving document: ", error);
                    customAlert("저장 중 오류가 발생했습니다.");
                } finally {
                    saveBtn.disabled = false;
                    saveBtn.textContent = '저장';
                }
            });
            
            if(timelineContainer) timelineContainer.addEventListener('click', async (e) => {
                const id = e.target.dataset.id;
                if (e.target.classList.contains('edit-btn')) {
                    const itemToEdit = localHistory.find(item => item.id === id);
                    openModal(itemToEdit);
                } else if (e.target.classList.contains('delete-btn')) {
                    const confirmed = await customConfirm('정말로 이 항목을 삭제하시겠습니까?');
                    if (confirmed) {
                        try {
                            await deleteDoc(doc(db, 'history', id));
                        } catch (error) {
                            console.error("Error removing document: ", error);
                            customAlert("삭제 중 오류가 발생했습니다.");
                        }
                    }
                }
            });
        }
        
        function initGalleryPage() {
            const galleryCollection = collection(db, 'gallery');
            let localPhotos = [];
            
            const galleryGrid = document.getElementById('gallery-grid');
            const adminModal = document.getElementById('gallery-admin-modal');
            const modalTitle = document.getElementById('gallery-modal-title');
            const photoForm = document.getElementById('photo-form');
            const cancelBtn = document.getElementById('gallery-cancel-btn');
            const addPhotoBtn = document.getElementById('add-photo-btn');
            const saveBtn = document.getElementById('gallery-save-btn');

            const lightboxModal = document.getElementById('lightbox-modal');
            const lightboxImage = document.getElementById('lightbox-image');
            const lightboxCaption = document.getElementById('lightbox-caption');
            const closeLightboxBtn = document.getElementById('close-lightbox-btn');

            function renderGallery() {
                if (!galleryGrid) return;
                galleryGrid.innerHTML = '';
                if (localPhotos.length === 0) {
                    galleryGrid.innerHTML = '<p class="col-span-full text-center text-gray-500">등록된 사진이 없습니다.</p>';
                    return;
                }
                
                localPhotos.forEach(photo => {
                    const photoWrapper = document.createElement('div');
                    photoWrapper.className = 'group scroll-reveal';

                    const imageContainer = document.createElement('div');
                    imageContainer.className = 'relative aspect-square';

                    const img = document.createElement('img');
                    img.src = photo.imageUrl;
                    img.alt = photo.title;
                    img.className = 'w-full h-full object-cover rounded-lg cursor-pointer';
                    img.dataset.title = photo.title;
                    img.dataset.description = photo.description;
                    img.onerror = function() { this.src = 'https://placehold.co/400x400/ef4444/ffffff?text=Error'; };

                    imageContainer.appendChild(img);

                    if (document.body.classList.contains('admin-mode')) {
                        const overlay = document.createElement('div');
                        overlay.className = 'admin-edit-overlay';
                        overlay.innerHTML = `
                            <button data-id="${photo.id}" class="edit-btn bg-blue-500 text-white w-16 h-9 rounded-md hover:bg-blue-600 text-sm">수정</button>
                            <button data-id="${photo.id}" class="delete-btn bg-red-500 text-white w-16 h-9 rounded-md hover:bg-red-600 text-sm">삭제</button>
                        `;
                        imageContainer.appendChild(overlay);
                    }
                    
                    const titleElement = document.createElement('h3');
                    titleElement.className = "mt-2 font-medium text-gray-800 truncate";
                    titleElement.textContent = photo.title;

                    photoWrapper.appendChild(imageContainer);
                    photoWrapper.appendChild(titleElement);
                    galleryGrid.appendChild(photoWrapper);
                });
                handleScrollAnimation();
            }

            const q = query(galleryCollection, orderBy("createdAt", "desc"));
            onSnapshot(q, (snapshot) => {
                localPhotos = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                renderGallery();
            }, (error) => {
                console.error("Firebase 데이터 로딩 실패: ", error);
                if(galleryGrid) galleryGrid.innerHTML = '<p class="col-span-full text-center text-gray-500">데이터를 불러오는 데 실패했습니다.</p>';
            });

            function openAdminModal(photo = null) {
                photoForm.reset();
                if (photo) {
                    modalTitle.textContent = '사진 정보 수정';
                    document.getElementById('photo-id').value = photo.id;
                    document.getElementById('photo-title').value = photo.title;
                    document.getElementById('photo-description').value = photo.description;
                    document.getElementById('photo-imageUrl').value = photo.imageUrl;
                } else {
                    modalTitle.textContent = '새 사진 추가';
                    document.getElementById('photo-id').value = '';
                }
                adminModal.classList.remove('hidden');
            }

            function closeAdminModal() {
                adminModal.classList.add('hidden');
            }

            if(addPhotoBtn) addPhotoBtn.addEventListener('click', () => openAdminModal());
            if(cancelBtn) cancelBtn.addEventListener('click', closeAdminModal);

            if(photoForm) photoForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                saveBtn.disabled = true;
                saveBtn.textContent = '저장 중...';

                const id = document.getElementById('photo-id').value;
                const photoData = {
                    title: document.getElementById('photo-title').value,
                    description: document.getElementById('photo-description').value,
                    imageUrl: document.getElementById('photo-imageUrl').value
                };

                try {
                    if (id) {
                        await updateDoc(doc(db, 'gallery', id), photoData);
                    } else {
                        photoData.createdAt = serverTimestamp();
                        await addDoc(galleryCollection, photoData);
                    }
                    closeAdminModal();
                } catch (error) {
                    console.error("Error saving document: ", error);
                    customAlert("저장 중 오류가 발생했습니다.");
                } finally {
                    saveBtn.disabled = false;
                    saveBtn.textContent = '저장';
                }
            });
            
            if(galleryGrid) galleryGrid.addEventListener('click', async (e) => {
                const target = e.target;
                
                if (target.classList.contains('edit-btn')) {
                    const id = target.dataset.id;
                    const photoToEdit = localPhotos.find(p => p.id === id);
                    openAdminModal(photoToEdit);
                } else if (target.classList.contains('delete-btn')) {
                     const id = target.dataset.id;
                    const confirmed = await customConfirm('정말로 이 사진을 삭제하시겠습니까?');
                    if (confirmed) {
                        try {
                            await deleteDoc(doc(db, 'gallery', id));
                        } catch (error) {
                            console.error("Error removing document: ", error);
                            customAlert("삭제 중 오류가 발생했습니다.");
                        }
                    }
                } else if (target.tagName === 'IMG' && !document.body.classList.contains('admin-mode')) {
                    lightboxImage.src = target.src;
                    const title = target.dataset.title || '';
                    const description = target.dataset.description || '';
                    lightboxCaption.innerHTML = `<h3 class="font-bold text-xl mb-2">${title}</h3><p>${description}</p>`;
                    lightboxModal.classList.remove('hidden');
                }
            });

            if(closeLightboxBtn) closeLightboxBtn.addEventListener('click', () => lightboxModal.classList.add('hidden'));
            if(lightboxModal) lightboxModal.addEventListener('click', (e) => {
                if (e.target === lightboxModal) {
                    lightboxModal.classList.add('hidden');
                }
            });
        }

        function initAboutUsPage() {
            const aboutUsCollection = collection(db, 'about_us');
            let localItems = [];
            
            const accordionContainer = document.getElementById('about-us-accordion');
            const adminModal = document.getElementById('about-us-admin-modal');
            const modalTitle = document.getElementById('about-us-modal-title');
            const itemForm = document.getElementById('about-us-form');
            const cancelBtn = document.getElementById('about-us-cancel-btn');
            const addBtn = document.getElementById('add-about-us-btn');
            const saveBtn = document.getElementById('about-us-save-btn');

            function renderAboutUs() {
                if (!accordionContainer) return;
                accordionContainer.innerHTML = '';
                if (localItems.length === 0) {
                    accordionContainer.innerHTML = '<p class="text-center text-gray-500 py-10">등록된 내용이 없습니다.</p>';
                    return;
                }
                
                localItems.forEach((item) => {
                    const itemElement = document.createElement('div');
                    itemElement.className = 'border-b border-gray-200 scroll-reveal';
                    const date = item.createdAt ? item.createdAt.toDate().toLocaleDateString('ko-KR') : '';
                    
                    itemElement.innerHTML = `
                        <button class="accordion-header w-full flex justify-between items-center p-6 text-left hover:bg-gray-50">
                            <span class="text-lg font-medium text-gray-800">${item.title}</span>
                            <div class="flex items-center">
                                <span class="text-gray-500 mr-6">${date}</span>
                                <i class="fas fa-chevron-down transition-transform duration-300"></i>
                            </div>
                        </button>
                        <div class="accordion-content bg-gray-50">
                            <div class="p-6 whitespace-pre-wrap text-gray-700">${item.content}</div>
                        </div>
                    `;

                    if (document.body.classList.contains('admin-mode')) {
                        const adminButtons = document.createElement('div');
                        adminButtons.className = 'p-4 bg-gray-100 text-right space-x-2';
                        adminButtons.innerHTML = `
                            <button data-id="${item.id}" class="edit-btn bg-blue-500 text-white py-1 px-3 rounded-md hover:bg-blue-600 text-sm">수정</button>
                            <button data-id="${item.id}" class="delete-btn bg-red-500 text-white py-1 px-3 rounded-md hover:bg-red-600 text-sm">삭제</button>
                        `;
                        itemElement.appendChild(adminButtons);
                    }
                    accordionContainer.appendChild(itemElement);
                });
                handleScrollAnimation();
            }

            const q = query(aboutUsCollection, orderBy("createdAt", "desc"));
            onSnapshot(q, (snapshot) => {
                localItems = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                renderAboutUs();
            });
            
            function openAdminModal(item = null) {
                itemForm.reset();
                if (item) {
                    modalTitle.textContent = 'About us 수정';
                    document.getElementById('about-us-id').value = item.id;
                    document.getElementById('about-us-title').value = item.title;
                    document.getElementById('about-us-content').value = item.content;
                } else {
                    modalTitle.textContent = 'About us 작성';
                     document.getElementById('about-us-id').value = '';
                }
                adminModal.classList.remove('hidden');
            }

            function closeAdminModal() {
                adminModal.classList.add('hidden');
            }

            if(addBtn) addBtn.addEventListener('click', () => openAdminModal());
            if(cancelBtn) cancelBtn.addEventListener('click', closeAdminModal);

            if(itemForm) itemForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                saveBtn.disabled = true;
                saveBtn.textContent = '저장 중...';
                const id = document.getElementById('about-us-id').value;
                const itemData = {
                    title: document.getElementById('about-us-title').value,
                    content: document.getElementById('about-us-content').value,
                };
                try {
                    if (id) {
                        await updateDoc(doc(db, 'about_us', id), itemData);
                    } else {
                        itemData.createdAt = serverTimestamp();
                        await addDoc(aboutUsCollection, itemData);
                    }
                    closeAdminModal();
                } catch (error) {
                    console.error("Error saving document: ", error);
                    customAlert("저장 중 오류가 발생했습니다.");
                } finally {
                    saveBtn.disabled = false;
                    saveBtn.textContent = '저장';
                }
            });

            if(accordionContainer) accordionContainer.addEventListener('click', async (e) => {
                const target = e.target;
                const id = target.dataset.id;

                if (target.classList.contains('edit-btn')) {
                    const itemToEdit = localItems.find(item => item.id === id);
                    openAdminModal(itemToEdit);
                } else if (target.classList.contains('delete-btn')) {
                    const confirmed = await customConfirm('정말로 이 게시물을 삭제하시겠습니까?');
                    if (confirmed) {
                        try {
                            await deleteDoc(doc(db, 'about_us', id));
                        } catch (error) {
                            console.error("Error removing document: ", error);
                            customAlert("삭제 중 오류가 발생했습니다.");
                        }
                    }
                } else {
                    const header = target.closest('.accordion-header');
                    if (!header) return;

                    const content = header.nextElementSibling;
                    if (!content || !content.classList.contains('accordion-content')) return;

                    const icon = header.querySelector('i.fa-chevron-down');
                    const isOpen = content.style.maxHeight && content.style.maxHeight !== '0px';

                    accordionContainer.querySelectorAll('.accordion-content').forEach(item => {
                        if (item !== content) item.style.maxHeight = null;
                    });
                    accordionContainer.querySelectorAll('.accordion-header i.fa-chevron-down').forEach(item => {
                        if(item !== icon) item.classList.remove('rotate-180');
                    });

                    if (!isOpen) {
                        content.style.maxHeight = content.scrollHeight + "px";
                        if (icon) icon.classList.add('rotate-180');
                    } else {
                        content.style.maxHeight = null;
                        if (icon) icon.classList.remove('rotate-180');
                    }
                }
            });
        }
        
        function initProductsPage() {
            const productsCollection = collection(db, 'products');
            let localProducts = [];
            
            const productGrid = document.getElementById('product-grid');
            const adminModal = document.getElementById('product-admin-modal');
            const modalTitle = document.getElementById('product-modal-title');
            const productForm = document.getElementById('product-form');
            const cancelBtn = document.getElementById('product-cancel-btn');
            const addProductBtn = document.getElementById('add-product-btn');
            const saveBtn = document.getElementById('product-save-btn');

            function renderProducts() {
                if (!productGrid) return;
                productGrid.innerHTML = '';
                if (localProducts.length === 0) {
                    productGrid.innerHTML = '<p class="col-span-full text-center text-gray-500">등록된 제품이 없습니다.</p>';
                    return;
                }
                
                localProducts.forEach(product => {
                    const cardWrapper = document.createElement('div');
                    cardWrapper.className = 'relative group scroll-reveal';
                    
                    const link = document.createElement('a');
                    link.href = product.storeUrl || '#';
                    link.target = '_blank';
                    link.rel = 'noopener noreferrer';
                    
                    const card = document.createElement('div');
                    card.className = 'bg-white rounded-lg overflow-hidden border border-gray-200 hover:shadow-xl transition-all duration-300 h-full flex flex-col';
                    card.innerHTML = `
                        <div class="relative">
                            <img src="${product.imageUrl}" alt="${product.title}" class="w-full h-56 object-cover" onerror="this.onerror=null; this.src='https://placehold.co/600x400/ef4444/ffffff?text=Error';">
                        </div>
                        <div class="p-6 flex-grow flex flex-col">
                            <h3 class="text-xl font-bold text-gray-800 mb-2">${product.title}</h3>
                            <p class="text-gray-600 flex-grow">${product.description}</p>
                            <span class="mt-4 w-full block text-center bg-blue-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-900 transition-colors">구매하기</span>
                        </div>
                    `;
                    
                    if (document.body.classList.contains('admin-mode')) {
                        const overlay = document.createElement('div');
                        overlay.className = 'admin-edit-overlay rounded-t-lg';
                        overlay.innerHTML = `
                            <button data-id="${product.id}" class="edit-btn bg-blue-500 text-white w-16 h-9 rounded-md hover:bg-blue-600 text-sm">수정</button>
                            <button data-id="${product.id}" class="delete-btn bg-red-500 text-white w-16 h-9 rounded-md hover:bg-red-600 text-sm">삭제</button>
                        `;
                        card.querySelector('.relative').appendChild(overlay);
                        link.href = 'javascript:void(0)';
                    }

                    link.appendChild(card);
                    cardWrapper.appendChild(link);
                    
                    productGrid.appendChild(cardWrapper);
                });
                handleScrollAnimation();
            }
            
            const q = query(productsCollection, orderBy("createdAt", "desc"));
            onSnapshot(q, (snapshot) => {
                localProducts = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                renderProducts();
            });

             function openAdminModal(product = null) {
                productForm.reset();
                if (product) {
                    modalTitle.textContent = '시판 제품 수정';
                    document.getElementById('product-id').value = product.id;
                    document.getElementById('product-title').value = product.title;
                    document.getElementById('product-description').value = product.description;
                    document.getElementById('product-imageUrl').value = product.imageUrl;
                    document.getElementById('product-storeUrl').value = product.storeUrl;
                } else {
                    modalTitle.textContent = '새 시판 제품 추가';
                    document.getElementById('product-id').value = '';
                }
                adminModal.classList.remove('hidden');
            }

            function closeAdminModal() {
                adminModal.classList.add('hidden');
            }

            if(addProductBtn) addProductBtn.addEventListener('click', () => openAdminModal());
            if(cancelBtn) cancelBtn.addEventListener('click', closeAdminModal);

            if(productForm) productForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                saveBtn.disabled = true;
                saveBtn.textContent = '저장 중...';

                const id = document.getElementById('product-id').value;
                const productData = {
                    title: document.getElementById('product-title').value,
                    description: document.getElementById('product-description').value,
                    imageUrl: document.getElementById('product-imageUrl').value,
                    storeUrl: document.getElementById('product-storeUrl').value
                };

                try {
                    if (id) {
                        await updateDoc(doc(db, 'products', id), productData);
                    } else {
                        productData.createdAt = serverTimestamp();
                        await addDoc(productsCollection, productData);
                    }
                    closeAdminModal();
                } catch (error) {
                    console.error("Error saving product: ", error);
                    customAlert("저장 중 오류가 발생했습니다.");
                } finally {
                    saveBtn.disabled = false;
                    saveBtn.textContent = '저장';
                }
            });

            if(productGrid) productGrid.addEventListener('click', async (e) => {
                const target = e.target;
                
                if (target.classList.contains('edit-btn') || target.classList.contains('delete-btn')) {
                     e.preventDefault();
                     e.stopPropagation();
                }

                const id = target.dataset.id;

                if (target.classList.contains('edit-btn')) {
                    const productToEdit = localProducts.find(p => p.id === id);
                    openAdminModal(productToEdit);
                } else if (target.classList.contains('delete-btn')) {
                    const confirmed = await customConfirm('정말로 이 제품을 삭제하시겠습니까?');
                    if (confirmed) {
                        try {
                            await deleteDoc(doc(db, 'products', id));
                        } catch (error) {
                            console.error("Error removing product: ", error);
                            customAlert("삭제 중 오류가 발생했습니다.");
                        }
                    }
                }
            });
        }

        // --- Common Initializers (for all pages) ---
        function initCommonScripts() {
            window.addEventListener('scroll', handleScrollAnimation, { passive: true });
            handleScrollAnimation(); // Initial check
        }

        // --- Global Scripts (run once on load) ---
        document.addEventListener('DOMContentLoaded', function () {
            // Initialize Firebase ONCE
            try {
                const app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);
                initContentManagement();
            } catch (e) {
                console.error("Firebase initialization failed:", e);
                customAlert("데이터베이스 연결에 실패했습니다. 새로고침 해주세요.");
                return;
            }

            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenuContainer = document.getElementById('mobile-menu');
            const desktopNav = document.getElementById('desktop-nav');
            const adminLoginBtn = document.getElementById('admin-login-btn');

            function enterAdminMode() {
                document.body.classList.add('admin-mode');
                adminLoginBtn.textContent = 'Logout';
                pageInitialized = {};
                navigateTo(currentPage);
            }
            
            function exitAdminMode() {
                document.body.classList.remove('admin-mode');
                adminLoginBtn.textContent = 'Admin Login';
                removeAdminEditButtons();
                pageInitialized = {};
                navigateTo(currentPage);
            }

            onAuthStateChanged(auth, (user) => {
                if (user) {
                    enterAdminMode();
                } else {
                    exitAdminMode();
                }
            });

            if(adminLoginBtn) {
                adminLoginBtn.addEventListener('click', async () => {
                    if (auth.currentUser) {
                        await signOut(auth);
                        customAlert('로그아웃되었습니다.');
                    } else {
                        navigateTo('login');
                    }
                });
            }


            function buildMobileMenu() {
                mobileMenuContainer.innerHTML = ''; 
                const navItems = desktopNav.children;
                for (const item of navItems) {
                    const wrapper = document.createElement('div');
                    if (item.classList.contains('dropdown')) {
                        const parentLink = item.querySelector('a');
                        const subMenu = item.querySelector('.dropdown-menu');
                        const toggleButton = document.createElement('button');
                        toggleButton.classList.add('w-full', 'flex', 'items-center', 'justify-between', 'px-4', 'py-3', 'text-lg', 'font-medium', 'text-left', 'text-gray-600', 'hover:bg-blue-50');
                        toggleButton.innerHTML = `<span>${parentLink.textContent}</span><i class="fas fa-chevron-down transition-transform duration-200"></i>`;
                        const mobileSubMenu = document.createElement('div');
                        mobileSubMenu.classList.add('hidden', 'pl-4', 'bg-gray-50');
                        subMenu.querySelectorAll('a').forEach(link => {
                            const clonedLink = document.createElement('a');
                            clonedLink.href = "#";
                            clonedLink.dataset.target = link.dataset.target;
                            clonedLink.textContent = link.textContent;
                            clonedLink.classList.add('nav-link', 'block', 'w-full', 'px-4', 'py-3', 'text-gray-700', 'hover:bg-blue-100');
                            mobileSubMenu.appendChild(clonedLink);
                        });
                        toggleButton.addEventListener('click', (e) => {
                            e.preventDefault();
                            mobileSubMenu.classList.toggle('hidden');
                            toggleButton.querySelector('i').classList.toggle('rotate-180');
                        });
                        wrapper.appendChild(toggleButton);
                        wrapper.appendChild(mobileSubMenu);
                    } else {
                        const clonedLink = item.cloneNode(true);
                        clonedLink.classList.add('block', 'w-full', 'px-4', 'py-3', 'text-lg', 'font-medium', 'text-gray-600', 'hover:bg-blue-50');
                        clonedLink.classList.remove('rounded-md');
                        wrapper.appendChild(clonedLink);
                    }
                    mobileMenuContainer.appendChild(wrapper);
                }
                const mobileSearchBtn = document.createElement('button');
                mobileSearchBtn.classList.add('search-btn', 'block', 'w-full', 'px-4', 'py-3', 'text-lg', 'font-medium', 'text-left', 'text-gray-600', 'hover:bg-blue-50');
                mobileSearchBtn.innerHTML = `<i class="fas fa-search mr-2"></i> 검색`;
                mobileMenuContainer.appendChild(mobileSearchBtn);
                
                mobileMenuContainer.querySelectorAll('.search-btn').forEach(btn => btn.addEventListener('click', openSearch));
                bindNavLinks(mobileMenuContainer);
            }
            buildMobileMenu();
            mobileMenuButton.addEventListener('click', (e) => {
                e.stopPropagation();
                mobileMenuContainer.classList.toggle('hidden');
            });

            const header = document.getElementById('header');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    header.classList.add('h-16');
                    header.classList.remove('h-20');
                } else {
                    header.classList.add('h-20');
                    header.classList.remove('h-16');
                }
            }, { passive: true });

            const searchModal = document.getElementById('search-modal');
            const searchInput = document.getElementById('search-input');
            const closeSearchBtn = document.getElementById('close-search-btn');

            function openSearch() {
                searchModal.classList.remove('hidden');
                searchInput.focus();
            }
            function closeSearch() {
                searchModal.classList.add('hidden');
            }

            document.querySelectorAll('.search-btn').forEach(btn => btn.addEventListener('click', openSearch));
            closeSearchBtn.addEventListener('click', closeSearch);
            searchModal.addEventListener('click', (e) => {
                if (e.target === searchModal) closeSearch();
            });
            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    const searchTerm = e.target.value.trim();
                    if (searchTerm) {
                        customAlert(`'${searchTerm}' 검색 기능은 현재 준비 중입니다.`);
                    }
                }
            });
            
            // --- Policy Modal Logic ---
            const termsModal = document.getElementById('terms-modal');
            const privacyModal = document.getElementById('privacy-modal');
            const termsLink = document.getElementById('terms-link');
            const privacyLink = document.getElementById('privacy-link');
            
            function openPolicyModal(modal) {
                if(modal) modal.classList.remove('hidden');
            }

            function closePolicyModal(modal) {
                if(modal) modal.classList.add('hidden');
            }

            if(termsLink) termsLink.addEventListener('click', () => openPolicyModal(termsModal));
            if(privacyLink) privacyLink.addEventListener('click', () => openPolicyModal(privacyModal));

            document.querySelectorAll('.close-modal-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const modal = e.target.closest('#terms-modal, #privacy-modal');
                    closePolicyModal(modal);
                });
            });
            
            if(termsModal) termsModal.addEventListener('click', (e) => {
                if (e.target === termsModal) closePolicyModal(termsModal);
            });
            if(privacyModal) privacyModal.addEventListener('click', (e) => {
                if (e.target === privacyModal) closePolicyModal(privacyModal);
            });

            bindNavLinks(document.body);
            const initialPage = window.location.hash.substring(1) || 'home';
            navigateTo(initialPage);
        });
    </script>

</body>
</html>
